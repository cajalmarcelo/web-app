{"ast":null,"code":"import _objectSpread from\"C:/Users/CAJAL/Desktop/main/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import MaterialTable from'material-table';import{useSelector,useDispatch}from\"react-redux\";import CircularLoading from\"../components/CircularLoading\";import{api}from'common';import{useTranslation}from\"react-i18next\";import{colors}from'../components/Theme/WebTheme';import{SECONDORY_COLOR}from\"../common/sharedFunctions\";import{ThemeProvider}from'@mui/material/styles';import theme from\"styles/tableStyle\";import TableStyle from'../components/Table/Style';import localization from'../components/Table/Localization';import{getLangKey}from'common/src/other/getLangKey';import{jsx as _jsx}from\"react/jsx-runtime\";export default function CancellationReasons(){const{t,i18n}=useTranslation();const isRTL=i18n.dir();const{editCancellationReason,convertLanguage}=api;const columns=[{title:t('reason'),field:'label',render:rowData=>/*#__PURE__*/_jsx(\"span\",{children:t(getLangKey(rowData.label))})}];const settings=useSelector(state=>state.settingsdata.settings);const[data,setData]=useState([]);const cancelreasondata=useSelector(state=>state.cancelreasondata);const dispatch=useDispatch();const auth=useSelector(state=>state.auth);useEffect(()=>{if(cancelreasondata.complex){setData(cancelreasondata.complex);}else{setData([]);}},[cancelreasondata.complex]);const[selectedRow,setSelectedRow]=useState(null);return cancelreasondata.loading?/*#__PURE__*/_jsx(CircularLoading,{}):/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(MaterialTable,{title:t('cancellation_reasons_title'),columns:columns,style:{direction:isRTL===\"rtl\"?\"rtl\":\"ltr\",borderRadius:\"8px\",padding:\"20px\",boxShadow:\"0px 2px 5px \".concat(SECONDORY_COLOR)},data:data,onRowClick:(evt,selectedRow)=>setSelectedRow(selectedRow.tableData.id),options:_objectSpread({exportButton:true,rowStyle:rowData=>({backgroundColor:selectedRow===rowData.tableData.id?colors.ROW_SELECTED:colors.WHITE})},TableStyle()),localization:localization(t),editable:settings.AllowCriticalEditsAdmin?{onRowAdd:newData=>new Promise((resolve,reject)=>{setTimeout(async()=>{const tblData=data;newData.value=tblData.length;if(!(newData&&newData.label)){alert(t('no_details_error'));reject();}else{var _auth$profile,_auth$profile$lang;tblData.push(newData);await convertLanguage(newData.label,auth!==null&&auth!==void 0&&(_auth$profile=auth.profile)!==null&&_auth$profile!==void 0&&(_auth$profile$lang=_auth$profile.lang)!==null&&_auth$profile$lang!==void 0&&_auth$profile$lang.langLocale?auth.profile.lang.langLocale:null);dispatch(editCancellationReason(tblData,\"Add\"));resolve();}},600);}),onRowUpdate:(newData,oldData)=>new Promise((resolve,reject)=>{setTimeout(async()=>{if(!(newData&&newData.label)){alert(t('no_details_error'));reject();}else{resolve();if(newData!==oldData){var _auth$profile2,_auth$profile2$lang;const tblData=data;tblData[tblData.indexOf(oldData)]=newData;await convertLanguage(newData.label,auth!==null&&auth!==void 0&&(_auth$profile2=auth.profile)!==null&&_auth$profile2!==void 0&&(_auth$profile2$lang=_auth$profile2.lang)!==null&&_auth$profile2$lang!==void 0&&_auth$profile2$lang.langLocale?auth.profile.lang.langLocale:null);dispatch(editCancellationReason(tblData,\"Update\"));}}},600);}),onRowDelete:oldData=>new Promise(resolve=>{setTimeout(()=>{resolve();const tblData=data;const newTtblData=tblData.filter(item=>item.value!==oldData.value);dispatch(editCancellationReason(newTtblData,\"Delete\"));},600);})}:null})});}","map":{"version":3,"names":["React","useState","useEffect","MaterialTable","useSelector","useDispatch","CircularLoading","api","useTranslation","colors","SECONDORY_COLOR","ThemeProvider","theme","TableStyle","localization","getLangKey","jsx","_jsx","CancellationReasons","t","i18n","isRTL","dir","editCancellationReason","convertLanguage","columns","title","field","render","rowData","children","label","settings","state","settingsdata","data","setData","cancelreasondata","dispatch","auth","complex","selectedRow","setSelectedRow","loading","style","direction","borderRadius","padding","boxShadow","concat","onRowClick","evt","tableData","id","options","_objectSpread","exportButton","rowStyle","backgroundColor","ROW_SELECTED","WHITE","editable","AllowCriticalEditsAdmin","onRowAdd","newData","Promise","resolve","reject","setTimeout","tblData","value","length","alert","_auth$profile","_auth$profile$lang","push","profile","lang","langLocale","onRowUpdate","oldData","_auth$profile2","_auth$profile2$lang","indexOf","onRowDelete","newTtblData","filter","item"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/web-app/src/views/CancellationReasons.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport CircularLoading from \"../components/CircularLoading\";\nimport { api } from 'common';\nimport { useTranslation } from \"react-i18next\";\nimport {colors} from '../components/Theme/WebTheme';\nimport { SECONDORY_COLOR } from \"../common/sharedFunctions\";\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from \"styles/tableStyle\";\nimport TableStyle from '../components/Table/Style';\nimport localization from '../components/Table/Localization';\nimport { getLangKey } from 'common/src/other/getLangKey';\n\nexport default function CancellationReasons() {\n  const { t,i18n } = useTranslation();\n  const isRTL = i18n.dir();\n  const {\n    editCancellationReason,\n    convertLanguage\n  } = api;\n\n  const columns = [\n    { title: t('reason'), field: 'label',render: rowData => <span>{t(getLangKey(rowData.label))}</span>,\n  }\n  ];\n  const settings = useSelector(state => state.settingsdata.settings);\n  const [data, setData] = useState([]);\n  const cancelreasondata = useSelector(state => state.cancelreasondata);\n  const dispatch = useDispatch();\n  const auth = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (cancelreasondata.complex) {\n      setData(cancelreasondata.complex);\n    }else{\n      setData([]);\n    }\n  }, [cancelreasondata.complex]);\n\n  const [selectedRow, setSelectedRow] = useState(null);\n  return (\n    cancelreasondata.loading ? <CircularLoading /> :\n      <ThemeProvider theme={theme}>\n        <MaterialTable\n          title={t('cancellation_reasons_title')}\n          columns={columns}\n          style={{\n            direction: isRTL === \"rtl\" ? \"rtl\" : \"ltr\",\n            borderRadius: \"8px\",\n            padding: \"20px\",\n            boxShadow: `0px 2px 5px ${SECONDORY_COLOR}`,\n          }}\n          data={data}\n          onRowClick={((evt, selectedRow) => setSelectedRow(selectedRow.tableData.id))}\n          options={{\n            exportButton: true,\n            rowStyle: (rowData) => ({\n              backgroundColor:\n                selectedRow === rowData.tableData.id ? colors.ROW_SELECTED :colors.WHITE\n            }),\n            ...TableStyle()\n          }}\n          localization={localization(t)}\n          editable={settings.AllowCriticalEditsAdmin ? {\n              onRowAdd: newData =>\n              new Promise((resolve, reject)=> {\n                setTimeout(async() => {\n                  const tblData = data;\n                  newData.value = tblData.length;\n                  if(!(newData && newData.label)){\n                    alert(t('no_details_error'));\n                    reject();\n                  }else{\n                    tblData.push(newData);\n                    await convertLanguage(newData.label, auth?.profile?.lang?.langLocale ? auth.profile.lang.langLocale : null);\n                    dispatch(editCancellationReason(tblData, \"Add\"));\n                    resolve();\n                  }\n                }, 600);\n              }),\n            onRowUpdate: (newData, oldData) =>\n              new Promise((resolve, reject)=> {\n                setTimeout(async() => {\n                  if(!(newData && newData.label )){\n                    alert(t('no_details_error'));\n                    reject();\n                  }else {\n                    resolve();\n                    if(newData !== oldData){\n                      const tblData = data;\n                      tblData[tblData.indexOf(oldData)] = newData;\n                      await convertLanguage(newData.label, auth?.profile?.lang?.langLocale ? auth.profile.lang.langLocale : null);\n                      dispatch(editCancellationReason(tblData, \"Update\"));\n                    }\n                  }\n                }, 600);\n              }),\n            onRowDelete: oldData =>\n              new Promise(resolve => {\n                setTimeout(() => {\n                  resolve();\n                  const tblData = data;\n                  const newTtblData = tblData.filter((item) => item.value !== oldData.value);\n                  dispatch(editCancellationReason(newTtblData, \"Delete\"));\n                }, 600);\n              }),\n              \n          } : null}\n        />\n      </ThemeProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
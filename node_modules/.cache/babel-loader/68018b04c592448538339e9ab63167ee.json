{"ast":null,"code":"import _objectSpread from\"C:/Users/CAJAL/Desktop/main/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{FETCH_COMPLAIN,FETCH_COMPLAIN_SUCCESS,FETCH_COMPLAIN_FAILED,EDIT_COMPLAIN}from\"../store/types\";import{firebase}from'../config/configureFirebase';import store from'../store/store';import{onValue,push,set}from\"firebase/database\";export const fetchComplain=()=>dispatch=>{const{complainRef}=firebase;dispatch({type:FETCH_COMPLAIN,payload:null});onValue(complainRef,snapshot=>{if(snapshot.val()){let data=snapshot.val();const arr=Object.keys(data).map(i=>{data[i].id=i;return data[i];});dispatch({type:FETCH_COMPLAIN_SUCCESS,payload:arr.reverse()});}else{dispatch({type:FETCH_COMPLAIN_FAILED,payload:store.getState().languagedata.defaultLanguage.no_complain});}});};export const editComplain=(reasons,method)=>dispatch=>{const{complainRef,editComplainRef}=firebase;dispatch({type:EDIT_COMPLAIN,payload:{method,reasons}});if(method==='Add'){push(complainRef,reasons);}else if(method==='Update'){set(editComplainRef(reasons.id),_objectSpread(_objectSpread({},reasons),{},{processDate:new Date().getTime()}));}};","map":{"version":3,"names":["FETCH_COMPLAIN","FETCH_COMPLAIN_SUCCESS","FETCH_COMPLAIN_FAILED","EDIT_COMPLAIN","firebase","store","onValue","push","set","fetchComplain","dispatch","complainRef","type","payload","snapshot","val","data","arr","Object","keys","map","i","id","reverse","getState","languagedata","defaultLanguage","no_complain","editComplain","reasons","method","editComplainRef","_objectSpread","processDate","Date","getTime"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/common/src/actions/complainactions.js"],"sourcesContent":["import {\n    FETCH_COMPLAIN,\n    FETCH_COMPLAIN_SUCCESS,\n    FETCH_COMPLAIN_FAILED,\n    EDIT_COMPLAIN\n  } from \"../store/types\";\n  import { firebase } from '../config/configureFirebase';\n  import store from '../store/store';\n  import { onValue, push, set } from \"firebase/database\";\n  \n  export const fetchComplain = () => (dispatch) => {\n \n    const {\n        complainRef\n    } = firebase;\n  \n    dispatch({\n      type: FETCH_COMPLAIN,\n      payload: null,\n    });\n    onValue(complainRef, (snapshot) => {\n      if (snapshot.val()) {\n        let data = snapshot.val();\n        \n       \n        const arr = Object.keys(data).map(i => {\n          data[i].id = i;\n          return data[i]\n        });\n        dispatch({\n          type: FETCH_COMPLAIN_SUCCESS,\n          payload: arr.reverse()\n        });\n      } else {\n        dispatch({\n          type: FETCH_COMPLAIN_FAILED,\n          payload: store.getState().languagedata.defaultLanguage.no_complain,\n        });\n      }\n    });\n  };\n  \n  export const editComplain = (reasons, method) => (dispatch) => {\n\n    const {\n        complainRef,\n        editComplainRef\n    } = firebase;\n  \n    dispatch({\n      type: EDIT_COMPLAIN,\n      payload: {method, reasons}\n    });\n    \n    if (method === 'Add') {\n      push(complainRef, reasons);\n    }\n    else if(method === 'Update'){\n      set(editComplainRef(reasons.id),{ ...reasons, processDate: new Date().getTime() });\n    }\n  }\n  \n  "],"mappings":"2HAAA,OACIA,cAAc,CACdC,sBAAsB,CACtBC,qBAAqB,CACrBC,aAAa,KACR,gBAAgB,CACvB,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,OAASC,OAAO,CAAEC,IAAI,CAAEC,GAAG,KAAQ,mBAAmB,CAEtD,MAAO,MAAM,CAAAC,aAAa,CAAGA,CAAA,GAAOC,QAAQ,EAAK,CAE/C,KAAM,CACFC,WACJ,CAAC,CAAGP,QAAQ,CAEZM,QAAQ,CAAC,CACPE,IAAI,CAAEZ,cAAc,CACpBa,OAAO,CAAE,IACX,CAAC,CAAC,CACFP,OAAO,CAACK,WAAW,CAAGG,QAAQ,EAAK,CACjC,GAAIA,QAAQ,CAACC,GAAG,CAAC,CAAC,CAAE,CAClB,GAAI,CAAAC,IAAI,CAAGF,QAAQ,CAACC,GAAG,CAAC,CAAC,CAGzB,KAAM,CAAAE,GAAG,CAAGC,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,GAAG,CAACC,CAAC,EAAI,CACrCL,IAAI,CAACK,CAAC,CAAC,CAACC,EAAE,CAAGD,CAAC,CACd,MAAO,CAAAL,IAAI,CAACK,CAAC,CAAC,CAChB,CAAC,CAAC,CACFX,QAAQ,CAAC,CACPE,IAAI,CAAEX,sBAAsB,CAC5BY,OAAO,CAAEI,GAAG,CAACM,OAAO,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLb,QAAQ,CAAC,CACPE,IAAI,CAAEV,qBAAqB,CAC3BW,OAAO,CAAER,KAAK,CAACmB,QAAQ,CAAC,CAAC,CAACC,YAAY,CAACC,eAAe,CAACC,WACzD,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAGA,CAACC,OAAO,CAAEC,MAAM,GAAMpB,QAAQ,EAAK,CAE7D,KAAM,CACFC,WAAW,CACXoB,eACJ,CAAC,CAAG3B,QAAQ,CAEZM,QAAQ,CAAC,CACPE,IAAI,CAAET,aAAa,CACnBU,OAAO,CAAE,CAACiB,MAAM,CAAED,OAAO,CAC3B,CAAC,CAAC,CAEF,GAAIC,MAAM,GAAK,KAAK,CAAE,CACpBvB,IAAI,CAACI,WAAW,CAAEkB,OAAO,CAAC,CAC5B,CAAC,IACI,IAAGC,MAAM,GAAK,QAAQ,CAAC,CAC1BtB,GAAG,CAACuB,eAAe,CAACF,OAAO,CAACP,EAAE,CAAC,CAAAU,aAAA,CAAAA,aAAA,IAAMH,OAAO,MAAEI,WAAW,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,EAAE,CAAC,CACpF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
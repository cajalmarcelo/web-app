{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/CAJAL/Desktop/main/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"C:/Users/CAJAL/Desktop/main/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"tableData\"];import React,{useState,useEffect}from'react';import{downloadCsv}from'../common/sharedFunctions';import MaterialTable from\"material-table\";import CircularLoading from\"../components/CircularLoading\";import{useSelector}from\"react-redux\";import{useTranslation}from\"react-i18next\";import moment from'moment/min/moment-with-locales';import{colors}from'../components/Theme/WebTheme';import{SECONDORY_COLOR}from\"../common/sharedFunctions\";import{ThemeProvider}from'@mui/material/styles';import theme from\"styles/tableStyle\";import TableStyle from'../components/Table/Style';import localization from'../components/Table/Localization';import{jsx as _jsx}from\"react/jsx-runtime\";const Sos=()=>{const{t,i18n}=useTranslation();const isRTL=i18n.dir();const settings=useSelector(state=>state.settingsdata.settings);const columns=[{title:t('id'),field:'bookingId',editable:'never'},{title:t('name'),field:'user_name',editable:'never'},{title:t('contact'),field:'contact',editable:'never',render:rowData=>settings.AllowCriticalEditsAdmin?rowData.contact:t(\"hidden_demo\")},{title:t('user_type'),field:'user_type',editable:'never'},{title:t('complain_date'),field:'complainDate',editable:'never',defaultSort:'desc',render:rowData=>rowData.complainDate?moment(rowData.complainDate).format('lll'):null}];const[data,setData]=useState([]);const sosdata=useSelector(state=>state.sosdata);useEffect(()=>{if(sosdata.sos){setData(sosdata.sos);}else{setData([]);}},[sosdata.sos]);const[selectedRow,setSelectedRow]=useState(null);return sosdata.loading?/*#__PURE__*/_jsx(CircularLoading,{}):/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(MaterialTable,{title:t('sos_title'),columns:columns,style:{direction:isRTL==='rtl'?'rtl':'ltr',borderRadius:\"8px\",boxShadow:\"0px 2px 5px \".concat(SECONDORY_COLOR)},data:data,onRowClick:(evt,selectedRow)=>setSelectedRow(selectedRow.tableData.id),options:_objectSpread({exportCsv:(columns,data)=>{let hArray=[];const headerRow=columns.map(col=>{if(typeof col.title==='object'){return col.title.props.text;}hArray.push(col.field);return col.title;});const dataRows=data.map(_ref=>{let{tableData}=_ref,row=_objectWithoutProperties(_ref,_excluded);row.date=new Date(row.date).toLocaleDateString()+' '+new Date(row.date).toLocaleTimeString();row.processDate=row.processDate?new Date(row.processDate).toLocaleDateString()+' '+new Date(row.processDate).toLocaleTimeString():'';let dArr=[];for(let i=0;i<hArray.length;i++){dArr.push(row[hArray[i]]);}return Object.values(dArr);});const{exportDelimiter}=\",\";const delimiter=exportDelimiter?exportDelimiter:\",\";const csvContent=[headerRow,...dataRows].map(e=>e.join(delimiter)).join(\"\\n\");const csvFileName='download.csv';downloadCsv(csvContent,csvFileName);},exportButton:{csv:settings.AllowCriticalEditsAdmin,pdf:false},rowStyle:rowData=>({backgroundColor:selectedRow===rowData.tableData.id?colors.ROW_SELECTED:colors.WHITE})},TableStyle()),localization:localization(t)})});};export default Sos;","map":{"version":3,"names":["React","useState","useEffect","downloadCsv","MaterialTable","CircularLoading","useSelector","useTranslation","moment","colors","SECONDORY_COLOR","ThemeProvider","theme","TableStyle","localization","jsx","_jsx","Sos","t","i18n","isRTL","dir","settings","state","settingsdata","columns","title","field","editable","render","rowData","AllowCriticalEditsAdmin","contact","defaultSort","complainDate","format","data","setData","sosdata","sos","selectedRow","setSelectedRow","loading","children","style","direction","borderRadius","boxShadow","concat","onRowClick","evt","tableData","id","options","_objectSpread","exportCsv","hArray","headerRow","map","col","props","text","push","dataRows","_ref","row","_objectWithoutProperties","_excluded","date","Date","toLocaleDateString","toLocaleTimeString","processDate","dArr","i","length","Object","values","exportDelimiter","delimiter","csvContent","e","join","csvFileName","exportButton","csv","pdf","rowStyle","backgroundColor","ROW_SELECTED","WHITE"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/web-app/src/views/Sos.js"],"sourcesContent":["import React,{ useState, useEffect } from 'react';\nimport { downloadCsv } from '../common/sharedFunctions';\nimport MaterialTable from \"material-table\";\nimport CircularLoading from \"../components/CircularLoading\";\nimport { useSelector } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from 'moment/min/moment-with-locales';\nimport {colors} from '../components/Theme/WebTheme';\nimport {SECONDORY_COLOR} from \"../common/sharedFunctions\"\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from \"styles/tableStyle\";\nimport TableStyle from '../components/Table/Style';\nimport localization from '../components/Table/Localization';\n\nconst Sos = () => {\n  const { t,i18n } = useTranslation();\n  const isRTL = i18n.dir();\n  const settings = useSelector(state => state.settingsdata.settings);\n  const columns =  [\n    { title: t('id'), field: 'bookingId',editable: 'never'},\n    { title: t('name'),field: 'user_name',editable: 'never'},\n    { title: t('contact'),field: 'contact',editable: 'never',render: (rowData) =>\n    settings.AllowCriticalEditsAdmin ? rowData.contact : t(\"hidden_demo\"),},\n    { title: t('user_type'),field: 'user_type',editable: 'never'},\n    { title: t('complain_date'), field: 'complainDate', editable:'never', defaultSort:'desc',render: rowData => rowData.complainDate? moment(rowData.complainDate).format('lll'):null},\n  ];\n  const [data, setData] = useState([]);\n  const sosdata = useSelector(state => state.sosdata);\n\n  useEffect(()=>{\n        if(sosdata.sos){\n            setData(sosdata.sos);\n        }else{\n          setData([]);\n        }\n  },[sosdata.sos]);\n\n  const [selectedRow, setSelectedRow] = useState(null);\n  \n  return (\n    sosdata.loading? <CircularLoading/>:\n    <ThemeProvider theme={theme}>\n    <MaterialTable\n      title={t('sos_title')}\n      columns={columns}\n      style={{direction:isRTL ==='rtl'?'rtl':'ltr', borderRadius: \"8px\", boxShadow: `0px 2px 5px ${SECONDORY_COLOR}`,}}\n      data={data}\n      onRowClick={((evt, selectedRow) => setSelectedRow(selectedRow.tableData.id))}\n      options={{\n        exportCsv: (columns, data) => {\n          let hArray = [];\n          const headerRow = columns.map(col => {\n            if (typeof col.title === 'object') {\n              return col.title.props.text;\n            }\n            hArray.push(col.field);\n            return col.title;\n          });\n          const dataRows = data.map(({ tableData, ...row }) => {\n            row.date = new Date(row.date).toLocaleDateString() + ' '+ new Date(row.date).toLocaleTimeString()\n            row.processDate = row.processDate? new Date(row.processDate).toLocaleDateString() + ' '+ new Date(row.processDate).toLocaleTimeString(): ''\n            let dArr = [];\n            for(let i=0;i< hArray.length; i++) {\n              dArr.push(row[hArray[i]]);\n            }\n            return Object.values(dArr);\n          })\n          const { exportDelimiter } = \",\";\n          const delimiter = exportDelimiter ? exportDelimiter : \",\";\n          const csvContent = [headerRow, ...dataRows].map(e => e.join(delimiter)).join(\"\\n\");\n          const csvFileName = 'download.csv';\n          downloadCsv(csvContent, csvFileName);\n        },\n        exportButton: {\n          csv: settings.AllowCriticalEditsAdmin,\n          pdf: false,\n        },\n        rowStyle: (rowData) => ({\n          backgroundColor:\n            selectedRow === rowData.tableData.id ? colors.ROW_SELECTED :colors.WHITE\n        }),\n        ...TableStyle()\n      }}\n      localization={localization(t)}\n    />\n    </ThemeProvider>\n  );\n}\n\nexport default Sos;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
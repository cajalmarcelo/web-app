{"ast":null,"code":"import base64 from'react-native-base64';import{firebase}from'../config/configureFirebase';import AccessKey from'./AccessKey';export const fetchPlacesAutocomplete=(searchKeyword,sessionToken)=>{return new Promise((resolve,reject)=>{const{config}=firebase;fetch(\"https://\".concat(config.projectId,\".web.app/googleapi\"),{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify({\"searchKeyword\":searchKeyword,\"sessiontoken\":sessionToken})}).then(response=>{return response.json();}).then(json=>{if(json&&json.searchResults){resolve(json.searchResults);}else{reject(json.error);}}).catch(error=>{console.log(error);reject(\"fetchPlacesAutocomplete Call Error\");});});};export const fetchCoordsfromPlace=place_id=>{return new Promise((resolve,reject)=>{const{config}=firebase;fetch(\"https://\".concat(config.projectId,\".web.app/googleapi\"),{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify({\"place_id\":place_id})}).then(response=>{return response.json();}).then(json=>{if(json&&json.coords){resolve(json.coords);}else{reject(json.error);}}).catch(error=>{console.log(error);reject(\"fetchCoordsfromPlace Call Error\");});});};export const fetchAddressfromCoords=latlng=>{return new Promise((resolve,reject)=>{const{config}=firebase;fetch(\"https://\".concat(config.projectId,\".web.app/googleapi\"),{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify({\"latlng\":latlng})}).then(response=>{return response.json();}).then(json=>{if(json&&json.address){resolve(json.address);}else{reject(json.error);}}).catch(error=>{console.log(error);reject(\"fetchAddressfromCoords Call Error\");});});};export const getDistanceMatrix=(startLoc,destLoc)=>{return new Promise((resolve,reject)=>{const{config}=firebase;fetch(\"https://\".concat(config.projectId,\".web.app/googleapi\"),{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify({\"start\":startLoc,\"dest\":destLoc,\"calltype\":\"matrix\"})}).then(response=>{return response.json();}).then(json=>{if(json.error){console.log(json.error);reject(json.error);}else{resolve(json);}}).catch(error=>{console.log(error);reject(\"getDistanceMatrix Call Error\");});});};export const getDirectionsApi=(startLoc,destLoc,waypoints)=>{return new Promise((resolve,reject)=>{const{config}=firebase;const body={\"start\":startLoc,\"dest\":destLoc,\"calltype\":\"direction\"};if(waypoints){body[\"waypoints\"]=waypoints;}fetch(\"https://\".concat(config.projectId,\".web.app/googleapi\"),{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify(body)}).then(response=>{return response.json();}).then(json=>{if(json.hasOwnProperty('distance_in_km')){resolve(json);}else{console.log(json.error);reject(json.error);}}).catch(error=>{console.log(error);reject(\"getDirectionsApi Call Error\");});});};","map":{"version":3,"names":["base64","firebase","AccessKey","fetchPlacesAutocomplete","searchKeyword","sessionToken","Promise","resolve","reject","config","fetch","concat","projectId","method","headers","encode","body","JSON","stringify","then","response","json","searchResults","error","catch","console","log","fetchCoordsfromPlace","place_id","coords","fetchAddressfromCoords","latlng","address","getDistanceMatrix","startLoc","destLoc","getDirectionsApi","waypoints","hasOwnProperty"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/common/src/other/GoogleAPIFunctions.js"],"sourcesContent":["import base64 from 'react-native-base64';\nimport { firebase } from '../config/configureFirebase';\nimport AccessKey from './AccessKey';\n\nexport const fetchPlacesAutocomplete = (searchKeyword, sessionToken) => {\n    return new Promise((resolve,reject)=>{\n        const { config } = firebase;\n        fetch(`https://${config.projectId}.web.app/googleapi`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n            },\n            body: JSON.stringify({\n                \"searchKeyword\": searchKeyword,\n                \"sessiontoken\": sessionToken\n            })\n        }).then(response => {\n            return response.json();\n        })\n        .then(json => {\n            if(json && json.searchResults) {\n                resolve(json.searchResults);\n            }else{\n                reject(json.error);\n            }\n        }).catch(error=>{\n            console.log(error);\n            reject(\"fetchPlacesAutocomplete Call Error\")\n        })\n    });\n}\n\nexport const fetchCoordsfromPlace = (place_id) => {\n    return new Promise((resolve,reject)=>{\n        const { config } = firebase;\n        fetch(`https://${config.projectId}.web.app/googleapi`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n            },\n            body: JSON.stringify({\n                \"place_id\": place_id\n            })\n        }).then(response => {\n            return response.json();\n        })\n        .then(json => {\n            if(json && json.coords) {\n                resolve(json.coords);\n            }else{\n                reject(json.error);\n            }\n        }).catch(error=>{\n            console.log(error);\n            reject(\"fetchCoordsfromPlace Call Error\")\n        })\n    });\n}\n\n\nexport const fetchAddressfromCoords = (latlng) => {\n    return new Promise((resolve,reject)=>{\n        const { config } = firebase;\n        fetch(`https://${config.projectId}.web.app/googleapi`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n            },\n            body: JSON.stringify({\n                \"latlng\": latlng\n            })\n        }).then(response => {\n            return response.json();\n        })\n        .then(json => {\n            if(json && json.address) {\n                resolve(json.address);\n            }else{\n                reject(json.error);\n            }\n        }).catch(error=>{\n            console.log(error);\n            reject(\"fetchAddressfromCoords Call Error\")\n        })\n    });\n}\n\nexport const getDistanceMatrix = (startLoc, destLoc) => {\n    return new Promise((resolve,reject)=>{\n        const { config } = firebase;\n        fetch(`https://${config.projectId}.web.app/googleapi`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n            },\n            body: JSON.stringify({\n                \"start\": startLoc,\n                \"dest\": destLoc,\n                \"calltype\": \"matrix\",\n            })\n        }).then(response => {\n            return response.json();\n        })\n        .then(json => {\n            if(json.error){\n                console.log(json.error);\n                reject(json.error);\n            }else{\n                resolve(json);\n            }\n        }).catch(error=>{\n            console.log(error);\n            reject(\"getDistanceMatrix Call Error\")\n        })\n    });\n}\n\nexport const getDirectionsApi = (startLoc, destLoc, waypoints) => {\n    return new Promise((resolve,reject)=>{\n        const { config } = firebase;\n        const body = {\n            \"start\": startLoc,\n            \"dest\": destLoc,\n            \"calltype\": \"direction\",\n        };\n        if(waypoints){\n            body[\"waypoints\"] = waypoints;\n        }\n        fetch(`https://${config.projectId}.web.app/googleapi`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n            },\n            body: JSON.stringify(body)\n        }).then(response => {\n            return response.json();\n        })\n        .then(json => {\n            if (json.hasOwnProperty('distance_in_km')) {\n                resolve(json);\n            }else{\n                console.log(json.error);\n                reject(json.error);\n            }\n        }).catch(error=>{\n            console.log(error);\n            reject(\"getDirectionsApi Call Error\")\n        })\n    });\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
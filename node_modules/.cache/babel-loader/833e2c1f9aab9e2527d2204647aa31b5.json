{"ast":null,"code":"import _objectSpread from\"C:/Users/CAJAL/Desktop/main/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import MaterialTable from'material-table';import{useSelector}from\"react-redux\";import CircularLoading from\"../components/CircularLoading\";import{useTranslation}from\"react-i18next\";import{colors}from'../components/Theme/WebTheme';import{SECONDORY_COLOR}from\"../common/sharedFunctions\";import{ThemeProvider}from'@mui/material/styles';import theme from\"styles/tableStyle\";import TableStyle from'../components/Table/Style';import localization from'../components/Table/Localization';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Earningreports(){const{t,i18n}=useTranslation();const isRTL=i18n.dir();const settings=useSelector(state=>state.settingsdata.settings);const columns=[{title:t('year'),field:'year'},{title:t('months'),field:'monthsName'},{title:t('booking_count'),field:'total_rides'},{title:t('Gross_trip_cost'),render:rowData=>(parseFloat(rowData.tripCost)+parseFloat(rowData.cancellationFee)).toFixed(settings.decimal),editable:'never'},{title:t('trip_cost_driver_share'),field:'rideCost'},{title:t('cancellationFee'),field:'cancellationFee'},{title:t('convenience_fee'),field:'convenienceFee'},{title:t('convenience_fee'),field:'fleetadminFee'},{title:t('Discounts'),field:'discountAmount'},{title:t('Profit'),render:rowData=>(parseFloat(rowData.convenienceFee)+parseFloat(rowData.cancellationFee)-parseFloat(rowData.discountAmount)).toFixed(settings.decimal),editable:'never'}];const[data,setData]=useState([]);const earningreportsdata=useSelector(state=>state.earningreportsdata);useEffect(()=>{if(earningreportsdata.Earningreportss){setData(earningreportsdata.Earningreportss);}},[earningreportsdata.Earningreportss]);const[selectedRow,setSelectedRow]=useState(null);return earningreportsdata.loading?/*#__PURE__*/_jsx(CircularLoading,{}):/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(MaterialTable,{title:t('earning_reports_title'),columns:columns,style:{direction:isRTL===\"rtl\"?\"rtl\":\"ltr\",borderRadius:\"8px\",padding:\"20px\",boxShadow:\"0px 2px 5px \".concat(SECONDORY_COLOR)},data:data,onRowClick:(evt,selectedRow)=>setSelectedRow(selectedRow.tableData.id),options:_objectSpread({exportButton:true,rowStyle:rowData=>({backgroundColor:selectedRow===rowData.tableData.id?colors.ROW_SELECTED:colors.WHITE})},TableStyle()),localization:localization(t)})});}","map":{"version":3,"names":["React","useState","useEffect","MaterialTable","useSelector","CircularLoading","useTranslation","colors","SECONDORY_COLOR","ThemeProvider","theme","TableStyle","localization","jsx","_jsx","Earningreports","t","i18n","isRTL","dir","settings","state","settingsdata","columns","title","field","render","rowData","parseFloat","tripCost","cancellationFee","toFixed","decimal","editable","convenienceFee","discountAmount","data","setData","earningreportsdata","Earningreportss","selectedRow","setSelectedRow","loading","children","style","direction","borderRadius","padding","boxShadow","concat","onRowClick","evt","tableData","id","options","_objectSpread","exportButton","rowStyle","backgroundColor","ROW_SELECTED","WHITE"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/web-app/src/views/Earningreports.js"],"sourcesContent":["import React,{ useState,useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport { useSelector} from \"react-redux\";\nimport CircularLoading from \"../components/CircularLoading\";\nimport { useTranslation } from \"react-i18next\";\nimport {colors} from '../components/Theme/WebTheme';\nimport {  SECONDORY_COLOR } from \"../common/sharedFunctions\";\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from \"styles/tableStyle\";\nimport TableStyle from '../components/Table/Style';\nimport localization from '../components/Table/Localization';\n\nexport default function Earningreports() {\n  const { t,i18n } = useTranslation();\n  const isRTL = i18n.dir();\n  \n  const settings = useSelector(state => state.settingsdata.settings);\n\n  const columns =  [\n    { title: t('year'),field: 'year'},\n    { title: t('months'), field: 'monthsName'},\n    { title: t('booking_count'), field: 'total_rides'},\n    { title: t('Gross_trip_cost'),  render: rowData => (parseFloat(rowData.tripCost) + parseFloat(rowData.cancellationFee)).toFixed(settings.decimal) , editable:'never'},\n    { title: t('trip_cost_driver_share'), field: 'rideCost'},\n    { title: t('cancellationFee'), field: 'cancellationFee'},\n    { title: t('convenience_fee'), field: 'convenienceFee'},\n    { title: t('convenience_fee'), field: 'fleetadminFee'},\n    { title: t('Discounts'), field: 'discountAmount'},\n    { title: t('Profit'),  render: rowData => (parseFloat(rowData.convenienceFee) + parseFloat(rowData.cancellationFee) - parseFloat(rowData.discountAmount)).toFixed(settings.decimal) , editable:'never'}\n  ];\n\n  const [data, setData] = useState([]);\n  const earningreportsdata = useSelector(state => state.earningreportsdata);\n\n  useEffect(()=>{\n        if(earningreportsdata.Earningreportss){\n            setData(earningreportsdata.Earningreportss);\n        }\n  },[earningreportsdata.Earningreportss]);\n\n  const [selectedRow, setSelectedRow] = useState(null);\n\n  return (\n    earningreportsdata.loading? <CircularLoading/>:\n    <ThemeProvider theme={theme}>\n      <MaterialTable\n        title={t('earning_reports_title')}\n        columns={columns}\n        style={{\n          direction: isRTL === \"rtl\" ? \"rtl\" : \"ltr\",\n          borderRadius: \"8px\",\n          padding: \"20px\",\n          boxShadow: `0px 2px 5px ${SECONDORY_COLOR}`,\n        }}\n        data={data}\n        \n        onRowClick={((evt, selectedRow) => setSelectedRow(selectedRow.tableData.id))}\n        options={{\n          exportButton: true,\n          rowStyle: (rowData) => ({\n            backgroundColor:\n              selectedRow === rowData.tableData.id ? colors.ROW_SELECTED :colors.WHITE\n          }),\n          ...TableStyle()\n        }}\n        localization={localization(t)}\n      />\n    </ThemeProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
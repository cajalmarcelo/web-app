{"ast":null,"code":"import _objectSpread from\"C:/Users/CAJAL/Desktop/main/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Select,MenuItem,Grid,Typography,TextField,FormControlLabel,FormControl,FormLabel,Radio,RadioGroup,Modal}from'@mui/material';import GoogleMapsAutoComplete from'../components/GoogleMapsAutoComplete';import{useSelector,useDispatch}from\"react-redux\";import AlertDialog from'../components/AlertDialog';import{makeStyles}from'@mui/styles';import UsersCombo from'../components/UsersCombo';import{api}from'common';import Button from\"components/CustomButtons/Button.js\";import{useTranslation}from\"react-i18next\";import{colors}from'../components/Theme/WebTheme';import{BookingModalBody,validateBookingObj}from'common/sharedFunctions';import{useLocation,useNavigate}from'react-router-dom';import{calcEst,showEst,optionsRequired}from'../common/sharedFunctions';import DialogActions from'@mui/material/DialogActions';import CircularProgress from'@mui/material/CircularProgress';import{MAIN_COLOR,SECONDORY_COLOR,FONT_FAMILY}from\"../common/sharedFunctions\";import{getLangKey}from'common/src/other/getLangKey';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({root:{'& > *':{margin:theme.spacing(1)}},'@global':{body:{backgroundColor:theme.palette.common.white},fontFamily:FONT_FAMILY},typography:{fontFamily:FONT_FAMILY},modal:{display:'flex',padding:theme.spacing(1),alignItems:'center',justifyContent:'center'},paper:{width:480,backgroundColor:theme.palette.background.paper,border:\"2px solid \".concat(colors.BLACK),boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)},container:{marginTop:theme.spacing(1),backgroundColor:MAIN_COLOR,alignContent:'center',borderRadius:\"8px\",width:'70%'},container1:{backgroundColor:colors.LandingPage_Background,borderTopLeftRadius:\"0px\",borderTopRightRadius:\"0px\",borderBottomLeftRadius:\"8px\",borderBottomRightRadius:\"8px\",padding:'30px',width:'100%',top:\"19px\",boxShadow:\"0px 2px 5px \".concat(SECONDORY_COLOR)},title:{color:colors.WHITE,padding:'10px',backgroundColor:MAIN_COLOR,fontFamily:FONT_FAMILY,borderRadius:\"10px\",fontSize:18},gridcontainer:{alignContent:'center'},items:{margin:0,width:'100%'},input:{fontSize:18,color:colors.BLACK,fontFamily:FONT_FAMILY},inputdimmed:{fontSize:18,color:colors.CARD_LABEL,fontFamily:FONT_FAMILY},carphoto:{height:'18px',marginRight:'10px'},carphotoRtl:{height:'16px',marginLeft:'10px'},buttonStyle:{margin:0,width:'100%',height:40,borderRadius:\"30px\",backgroundColor:MAIN_COLOR,color:colors.WHITE,fontFamily:FONT_FAMILY},buttonStyle1:{backgroundColor:MAIN_COLOR,fontFamily:FONT_FAMILY},buttonStyle2:{backgroundColor:SECONDORY_COLOR,fontFamily:FONT_FAMILY},inputRtl:{\"& label\":{right:25,left:\"auto\",fontFamily:FONT_FAMILY},\"& legend\":{textAlign:\"right\",marginRight:18,fontFamily:FONT_FAMILY},\"& label.Mui-focused\":{color:MAIN_COLOR},\"& .MuiInput-underline:after\":{borderBottomColor:MAIN_COLOR},\"& .MuiFilledInput-underline:after\":{borderBottomColor:MAIN_COLOR},\"& .MuiOutlinedInput-root\":{\"&.Mui-focused fieldset\":{borderColor:MAIN_COLOR}},\"& input\":{fontFamily:FONT_FAMILY}},rightRty:{\"& legend\":{marginRight:30,fontFamily:FONT_FAMILY},\"& input\":{fontFamily:FONT_FAMILY}},textField:{\"& label.Mui-focused\":{color:MAIN_COLOR},\"& .MuiInput-underline:after\":{borderBottomColor:MAIN_COLOR},\"& .MuiFilledInput-underline:after\":{borderBottomColor:MAIN_COLOR},\"& .MuiOutlinedInput-root\":{\"&.Mui-focused fieldset\":{borderColor:MAIN_COLOR}},\"& input\":{fontFamily:FONT_FAMILY}}}));const icons={'paypal':require('../assets/payment-icons/paypal-logo.png').default,'braintree':require('../assets/payment-icons/braintree-logo.png').default,'stripe':require('../assets/payment-icons/stripe-logo.png').default,'paytm':require('../assets/payment-icons/paytm-logo.png').default,'payulatam':require('../assets/payment-icons/payulatam-logo.png').default,'flutterwave':require('../assets/payment-icons/flutterwave-logo.png').default,'paystack':require('../assets/payment-icons/paystack-logo.png').default,'securepay':require('../assets/payment-icons/securepay-logo.png').default,'payfast':require('../assets/payment-icons/payfast-logo.png').default,'liqpay':require('../assets/payment-icons/liqpay-logo.png').default,'culqi':require('../assets/payment-icons/culqi-logo.png').default,'mercadopago':require('../assets/payment-icons/mercadopago-logo.png').default,'squareup':require('../assets/payment-icons/squareup-logo.png').default,'wipay':require('../assets/payment-icons/wipay-logo.png').default,'test':require('../assets/payment-icons/test-logo.png').default,'razorpay':require('../assets/payment-icons/razorpay-logo.png').default,'paymongo':require('../assets/payment-icons/paymongo-logo.png').default,'iyzico':require('../assets/payment-icons/iyzico-logo.png').default,'slickpay':require('../assets/payment-icons/slickpay-logo.png').default,'xendit':require('../assets/payment-icons/xendit-logo.png').default,'tap':require('../assets/payment-icons/tap-logo.png').default};export default function AddBookings(props){const{t,i18n}=useTranslation();const isRTL=i18n.dir();const{getEstimate,clearEstimate,addBooking,clearBooking,MinutesPassed,GetDateString,GetDistance,updateBooking,updateProfileWithEmail,checkUserExists,getDirectionsApi}=api;const dispatch=useDispatch();const classes=useStyles();const cartypes=useSelector(state=>state.cartypes.cars);const estimatedata=useSelector(state=>state.estimatedata);const bookingdata=useSelector(state=>state.bookingdata);const userdata=useSelector(state=>state.usersdata);const auth=useSelector(state=>state.auth);const settings=useSelector(state=>state.settingsdata.settings);const providers=useSelector(state=>state.paymentmethods.providers);const activeBookings=useSelector(state=>state.bookinglistdata.active);const[carType,setCarType]=useState(t('select_car'));const[pickupAddress,setPickupAddress]=useState(null);const[dropAddress,setDropAddress]=useState(null);const[optionModalStatus,setOptionModalStatus]=useState(false);const[estimateModalStatus,setEstimateModalStatus]=useState(false);const[selectedCarDetails,setSelectedCarDetails]=useState(null);const[users,setUsers]=useState(null);const[commonAlert,setCommonAlert]=useState({open:false,msg:''});const[userCombo,setUserCombo]=useState(null);const[estimateRequested,setEstimateRequested]=useState(false);const[bookingType,setBookingType]=useState('Book Now');const rootRef=useRef(null);const[tempRoute,setTempRoute]=useState();const[drivers,setDrivers]=useState([]);const[paymentModalStatus,setPaymentModalStatus]=useState(false);const[walletModalStatus,setWalletModalStatus]=useState(false);const{state}=useLocation();const[selectedProvider,setSelectedProvider]=useState();const[selectedProviderIndex,setSelectedProviderIndex]=useState(0);const[roundTrip,setRoundTrip]=useState(0);const[tripInstructions,setTripInstructions]=useState('');const[loading,setLoading]=useState(false);const[loading2,setLoading2]=useState(false);const[bookingOnWait,setBookingOnWait]=useState();const[deliveryWithBid,setDeliveryWithBid]=useState(0);const[otherPerson,setOtherPerson]=useState(false);const[offerFare,setOfferFare]=useState('');const[minimumPrice,setMinimumPrice]=useState(0);useEffect(()=>{if(settings&&settings.bookingFlow){setDeliveryWithBid(settings.bookingFlow===\"2\"?1:0);}},[settings,settings.bookingFlow]);const[instructionData,setInstructionData]=useState({otherPerson:\"\",otherPersonPhone:\"\",pickUpInstructions:\"\",deliveryInstructions:\"\",parcelTypeIndex:0,optionIndex:0,parcelTypeSelected:null,optionSelected:null});const[profileData,setProfileData]=useState({firstName:'',lastName:'',email:''});const[payment_mode,setPaymentMode]=useState(0);const[radioProps,setRadioProps]=useState([]);const navigate=useNavigate();useEffect(()=>{if(settings&&providers){setSelectedProvider(providers[0]);let arr=[{label:t('wallet'),value:0,cat:'wallet'}];let val=0;if(!settings.disable_online&&providers&&providers.length>0){val++;arr.push({label:t('card'),value:val,cat:'card'});}if(!settings.disable_cash){val++;arr.push({label:t('cash'),value:val,cat:'cash'});}setRadioProps(arr);}},[settings,providers,t]);;useEffect(()=>{if(state&&state!==null){let carDetails=state.carData;setCarType(carDetails.name);setInstructionData({deliveryPerson:\"\",deliveryPersonPhone:\"\",pickUpInstructions:\"\",deliveryInstructions:\"\",parcelTypeIndex:0,optionIndex:0,parcelTypeSelected:Array.isArray(carDetails.parcelTypes)?carDetails.parcelTypes[0]:null,optionSelected:Array.isArray(carDetails.options)?carDetails.options[0]:null});setSelectedCarDetails(carDetails);}},[state]);const handleChange=e=>{if(e.target.name==='parcelTypeIndex'){setInstructionData(_objectSpread(_objectSpread({},instructionData),{},{parcelTypeIndex:parseInt(e.target.value),parcelTypeSelected:selectedCarDetails.parcelTypes[e.target.value]}));}else if(e.target.name==='optionIndex'){setInstructionData(_objectSpread(_objectSpread({},instructionData),{},{optionIndex:parseInt(e.target.value),optionSelected:selectedCarDetails.options[e.target.value]}));}else if(e.target.name==='payment_mode'){setPaymentMode(e.target.value);}else if(e.target.name==='selectedProviderIndex'){setSelectedProviderIndex(parseInt(e.target.value));setSelectedProvider(providers[parseInt(e.target.value)]);}else if(e.target.name==='tripInstructions'){setTripInstructions(e.target.value);}else if(e.target.name==='roundTrip'){setRoundTrip(e.target.value);}else if(e.target.name==='bookingFlow'){setDeliveryWithBid(e.target.value);}else if(e.target.name==='firstName'){setProfileData(_objectSpread(_objectSpread({},profileData),{},{[e.target.name]:e.target.value}));}else if(e.target.name==='lastName'){setProfileData(_objectSpread(_objectSpread({},profileData),{},{[e.target.name]:e.target.value}));}else if(e.target.name==='email'){setProfileData(_objectSpread(_objectSpread({},profileData),{},{[e.target.name]:e.target.value}));}else if(e.target.name==='offerFare'){setOfferFare(e.target.value);}else{setInstructionData(_objectSpread(_objectSpread({},instructionData),{},{[e.target.name]:e.target.value}));}};const[selectedDate,setSelectedDate]=useState(GetDateString());const clearForm=()=>{setUserCombo(null);setPickupAddress(null);setDropAddress(null);setSelectedCarDetails(null);setCarType(t('select_car'));setBookingType('Book Now');setEstimateRequested(false);};useEffect(()=>{if(auth.profile&&bookingOnWait){setEstimateModalStatus(false);dispatch(addBooking(bookingOnWait));setBookingOnWait(null);setLoading(false);}},[auth.profile,bookingOnWait,dispatch,addBooking]);useEffect(()=>{if(bookingdata.booking&&bookingdata.booking.mainData.status==='PAYMENT_PENDING'){if(bookingdata.booking.mainData.payment_mode==='cash'){dispatch(clearBooking());setTempRoute(null);setLoading2(false);navigate('/bookings');}else{if(bookingdata.booking.mainData.payment_mode==='card'){setLoading2(false);setPaymentModalStatus(true);}else{setLoading2(false);setWalletModalStatus(true);}}}if(bookingdata.booking&&bookingdata.booking.mainData.status==='NEW'){dispatch(clearBooking());setTempRoute(null);setLoading2(false);navigate('/bookings');}},[bookingdata.booking,clearBooking,dispatch,navigate]);const handleCarSelect=event=>{setCarType(event.target.value);let carDetails=null;for(let i=0;i<cartypes.length;i++){if(cartypes[i].name===event.target.value){carDetails=cartypes[i];let instObj=_objectSpread({},instructionData);if(Array.isArray(cartypes[i].parcelTypes)&&instObj.parcelTypeSelected!==cartypes[i].parcelTypes[0]){instObj.parcelTypeSelected=cartypes[i].parcelTypes[0];instObj.parcelTypeIndex=0;}if(Array.isArray(cartypes[i].options)&&instObj.optionSelected!==cartypes[i].options[0]){instObj.optionSelected=cartypes[i].options[0];instObj.optionIndex=0;}setInstructionData(instObj);}}setSelectedCarDetails(carDetails);};const handleBookTypeSelect=event=>{setBookingType(event.target.value);if(bookingType==='Book Later'){setSelectedDate(GetDateString());}};const onDateChange=event=>{setSelectedDate(event.target.value);};useEffect(()=>{if(estimatedata.estimate&&estimateRequested){setEstimateRequested(false);setEstimateModalStatus(true);}if(estimatedata.estimate&&estimateRequested&&settings&&!settings.coustomerBidPrice){let price=estimatedata.estimate.estimateFare;let ammount=settings.coustomerBidPriceType==='flat'?parseFloat(price-settings.bidprice).toFixed(settings.decimal):parseFloat(price-parseFloat(price*(settings.bidprice/100))).toFixed(settings.decimal);if(ammount&&ammount>0){setMinimumPrice(ammount);}}if(userdata.users){let arr=[];for(let i=0;i<userdata.users.length;i++){let user=userdata.users[i];if(user.usertype==='customer'&&(auth.profile.usertype==='fleetadmin'&&user.fleetadmin===auth.profile.uid||auth.profile.usertype==='admin')){arr.push({'firstName':user.firstName,'lastName':user.lastName,'mobile':user.mobile,'email':user.email,'uid':user.id,'desc':user.firstName+' '+user.lastName+' ('+(settings.AllowCriticalEditsAdmin?user.mobile:t(\"hidden_demo\"))+') '+(settings.AllowCriticalEditsAdmin?user.email:t(\"hidden_demo\")),'pushToken':user.pushToken?user.pushToken:''});}}setUsers(arr);let arrDrivers=[];for(let i=0;i<userdata.users.length;i++){let user=userdata.users[i];if(user.usertype&&user.usertype==='driver'&&user.approved===true&&user.queue===false&&user.driverActiveStatus===true&&user.location&&(user.licenseImage&&settings.license_image_required||!settings.license_image_required)&&(user.carApproved&&settings.carType_required||!settings.carType_required)&&(user.term&&settings.term_required||!settings.term_required)){if(auth.profile.usertype==='fleetadmin'&&user.fleetadmin===auth.profile.uid||auth.profile.usertype==='admin'||auth.profile.usertype==='customer'){arrDrivers.push({'uid':user.id,'location':user.location,'carType':user.carType,'fleetadmin':user.fleetadmin?user.fleetadmin:null});}}}setDrivers(arrDrivers);}},[estimatedata.estimate,userdata.users,estimateRequested,settings,auth.profile.usertype,auth.profile.uid,t]);useEffect(()=>{if(auth.profile.usertype&&auth.profile.usertype==='customer'){setUserCombo({'firstName':auth.profile.firstName,'lastName':auth.profile.lastName,'mobile':auth.profile.mobile,'email':auth.profile.email,'uid':auth.profile.uid,'pushToken':auth.profile.pushToken?auth.profile.pushToken:''});}},[auth.profile]);const mobile=userCombo&&userCombo.mobile?true:false;const handleGetOptions=async e=>{e.preventDefault();if(settings&&settings.imageIdApproval&&auth.profile.usertype==='customer'&&auth.profile.verifyId||auth.profile.usertype==='admin'||settings&&!settings.imageIdApproval&&auth.profile.usertype==='customer'||auth.profile.usertype==='fleetadmin'){if(!(settings&&settings.disable_cash&&(auth.profile.usertype==='admin'||auth.profile.usertype==='fleetadmin'))||auth.profile.usertype==='customer'){if(auth.profile.usertype==='customer'&&parseFloat(auth.profile.walletBalance)>=0||auth.profile.usertype==='admin'||auth.profile.usertype==='fleetadmin'){setEstimateRequested(true);if(userCombo&&pickupAddress&&dropAddress&&selectedCarDetails){// const directionService = new window.google.maps.DirectionsService();\n// directionService.route(\n//   {\n//     origin: new window.google.maps.LatLng(pickupAddress.coords.lat, pickupAddress.coords.lng),\n//     destination: new window.google.maps.LatLng(dropAddress.coords.lat, dropAddress.coords.lng),\n//     travelMode: window.google.maps.TravelMode.DRIVING\n//   },\n//   (result, status) => {\n// if (status === window.google.maps.DirectionsStatus.OK) {\n// const route = {\n//   distance_in_km:(result.routes[0].legs[0].distance.value / 1000),\n//   time_in_secs:result.routes[0].legs[0].duration.value,\n//   polylinePoints:result.routes[0].overview_polyline\n// };\nconst route=await getDirectionsApi(pickupAddress.coords.lat+\",\"+pickupAddress.coords.lng,dropAddress.coords.lat+','+dropAddress.coords.lng,null);setTempRoute(route);if(pickupAddress&&dropAddress){if(bookingType==='Book Now'){if(mobile===true){if(Array.isArray(selectedCarDetails.options)||Array.isArray(selectedCarDetails.parcelTypes)){setOptionModalStatus(true);}else{let estimateRequest={pickup:pickupAddress,drop:dropAddress,carDetails:selectedCarDetails,instructionData:instructionData,routeDetails:route};dispatch(getEstimate(estimateRequest));}}else{setCommonAlert({open:true,msg:t('incomplete_user')});}}else{if(bookingType==='Book Later'&&selectedDate){if(MinutesPassed(selectedDate)>=15){if(mobile===true){if(Array.isArray(selectedCarDetails.options)||Array.isArray(selectedCarDetails.parcelTypes)){setOptionModalStatus(true);}else{let estimateRequest={pickup:pickupAddress,drop:dropAddress,carDetails:selectedCarDetails,instructionData:instructionData,routeDetails:route};dispatch(getEstimate(estimateRequest));}}else{setCommonAlert({open:true,msg:t('incomplete_user')});}}else{setCommonAlert({open:true,msg:t('past_booking_error')});}}else{setCommonAlert({open:true,msg:t('select_proper')});}}}else{setCommonAlert({open:true,msg:t('place_to_coords_error')});}//   }\n// }\n// )\n}else{setCommonAlert({open:true,msg:t('select_proper')});}}else{setCommonAlert({open:true,msg:t('wallet_balance_low')});}}else{setCommonAlert({open:true,msg:t('cash_booking_false')});}}else{setCommonAlert({open:true,msg:t('verifyid_error')});}};const handleWalletPayment=e=>{e.preventDefault();let curBooking=_objectSpread({},bookingdata.booking.mainData);if(parseFloat(curBooking.trip_cost)>parseFloat(auth.profile.walletBalance)&&radioProps[payment_mode].cat==='wallet'){setCommonAlert({open:true,msg:t('wallet_balance_low')});}else{let requestedDrivers={};if(settings.autoDispatch&&bookingType==='Book Now'){for(let i=0;i<drivers.length;i++){const driver=drivers[i];let distance=GetDistance(pickupAddress.coords.lat,pickupAddress.coords.lng,driver.location.lat,driver.location.lng);if(settings.convert_to_mile){distance=distance/1.609344;}if(distance<(settings&&settings.driverRadius?settings.driverRadius:10)&&selectedCarDetails.name===driver.carType){requestedDrivers[driver['uid']]=true;}}}curBooking.prepaid=true;curBooking.status='NEW';curBooking.payment_mode=\"wallet\";curBooking.customer_paid=parseFloat(curBooking.trip_cost).toFixed(settings.decimal);curBooking.discount=0;curBooking.usedWalletMoney=parseFloat(curBooking.trip_cost).toFixed(settings.decimal);curBooking.cardPaymentAmount=0;curBooking.cashPaymentAmount=0;curBooking.payableAmount=0;curBooking.requestedDrivers=requestedDrivers;dispatch(updateBooking(curBooking));setTimeout(()=>{dispatch(clearEstimate());setPaymentModalStatus(false);setWalletModalStatus(false);clearForm();dispatch(clearBooking());setTempRoute(null);navigate('/bookings');},1500);}};const handleGetEstimate=e=>{e.preventDefault();setOptionModalStatus(false);let estimateRequest={pickup:pickupAddress,drop:dropAddress,carDetails:selectedCarDetails,instructionData:instructionData,routeDetails:tempRoute};dispatch(getEstimate(estimateRequest));};const confirmBooking=e=>{e.preventDefault();setLoading2(true);let requestedDrivers={};let driverEstimates={};let notfound=true;if(activeBookings){for(let i=0;i<activeBookings.length;i++){if(activeBookings[i].payment_mode==='wallet'&&activeBookings[i].status!=='PAID'){notfound=false;break;}}}if(radioProps[payment_mode].cat==='wallet'&&notfound&&auth.profile.usertype==='customer'||radioProps[payment_mode].cat!=='wallet'||auth.profile.usertype==='admin'||auth.profile.usertype==='fleetadmin'){const regx1=/([0-9\\s-]{7,})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/;if(otherPerson&&/\\S/.test(instructionData.otherPerson)&&regx1.test(instructionData.otherPersonPhone)&&instructionData.otherPersonPhone&&instructionData.otherPersonPhone.length>6||!otherPerson){if(offerFare>0&&offerFare>=parseFloat(minimumPrice)||offerFare===''){if(radioProps[payment_mode].cat==='wallet'&&parseFloat(auth.profile.walletBalance)>=parseFloat(estimatedata.estimate.estimateFare)&&!calcEst&&auth.profile.usertype==='customer'||radioProps[payment_mode].cat!=='wallet'||radioProps[payment_mode].cat==='wallet'&&calcEst&&auth.profile.usertype==='customer'||auth.profile.usertype==='admin'||auth.profile.usertype==='fleetadmin'){if(settings.autoDispatch&&bookingType==='Book Now'){for(let i=0;i<drivers.length;i++){const driver=drivers[i];let distance=GetDistance(pickupAddress.coords.lat,pickupAddress.coords.lng,driver.location.lat,driver.location.lng);if(settings.convert_to_mile){distance=distance/1.609344;}if(distance<(settings&&settings.driverRadius?settings.driverRadius:10)&&(settings.carType_required&&selectedCarDetails.name===driver.carType||!settings.carType_required)&&(auth.profile.usertype==='fleetadmin'&&driver.fleetadmin===auth.profile.uid||auth.profile.usertype!=='fleetadmin')){requestedDrivers[driver['uid']]=true;driverEstimates[driver['uid']]={distance:distance,timein_text:(distance*2+1).toFixed(0)+' min'};}}if(Object.keys(requestedDrivers).length===0){setLoading2(false);setCommonAlert({open:true,msg:t('no_driver_found_alert_messege')});return;}}let bookingObject={pickup:pickupAddress,drop:dropAddress,carDetails:selectedCarDetails,userDetails:{uid:userCombo.uid,firstName:userCombo.firstName,lastName:userCombo.lastName,mobile:userCombo.mobile,pushToken:userCombo.pushToken,email:userCombo.email},estimate:estimatedata.estimate,instructionData:instructionData,tripInstructions:tripInstructions,roundTrip:roundTrip===0?false:true,tripdate:bookingType==='Book Later'?new Date(selectedDate).getTime():new Date().getTime(),bookLater:bookingType==='Book Later'?true:false,settings:settings,booking_type_admin:auth.profile.usertype==='admin'?true:false,booking_type_fleetadmin:auth.profile.usertype==='fleetadmin'?true:false,fleetadmin:auth.profile.usertype==='fleetadmin'?auth.profile.uid:null,requestedDrivers:calcEst?requestedDrivers:optionsRequired&&radioProps[payment_mode].cat==='cash'?requestedDrivers:settings.prepaid&&radioProps[payment_mode].cat==='cash'?requestedDrivers:!settings.prepaid?requestedDrivers:requestedDrivers,driverEstimates:driverEstimates,payment_mode:auth.profile.usertype==='admin'||auth.profile.usertype==='fleetadmin'?'cash':radioProps[payment_mode].cat,booking_from_web:true,deliveryWithBid:auth.profile.usertype==='customer'?deliveryWithBid===0?false:true:false,offerFare:offerFare&&offerFare>0?offerFare:0,customer_offer:offerFare&&offerFare>0?offerFare:0};if(auth.profile.usertype==='customer'&&!(auth.profile.firstName&&auth.profile.lastName&&auth.profile.email&&auth.profile.firstName.length>0&&auth.profile.lastName.length>0&&auth.profile.email.length>0)){// const regx1 = /([0-9\\s-]{7,})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/;\n// if ((optionsRequired && /\\S/.test(instructionData.deliveryPerson) && regx1.test(instructionData.deliveryPersonPhone) && instructionData.deliveryPersonPhone && instructionData.deliveryPersonPhone.length > 6) || !optionsRequired){\nif(profileData.firstName&&profileData.firstName.length>0&&profileData.lastName&&profileData.lastName.length>0||auth.profile.firstName&&auth.profile.firstName.length>0&&auth.profile.lastName&&auth.profile.lastName.length>0){const re=/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(re.test(profileData.email)&&!auth.profile.email||auth.profile.email&&auth.profile.email.length>0){setLoading(true);checkUserExists({email:profileData.email}).then(async res=>{if(res.users&&res.users.length>0){setLoading(false);alert(t('user_exists'));}else if(res.error){setLoading(false);alert(t('email_or_mobile_issue'));}else{setLoading(false);if(radioProps[payment_mode].cat==='card'){const paymentPacket={payment_mode:'card',customer_paid:parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),cardPaymentAmount:parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),discount:0,usedWalletMoney:0,cashPaymentAmount:0,promo_applied:false,promo_details:null,payableAmount:parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal)};bookingObject['paymentPacket']=paymentPacket;}const result=validateBookingObj(t,bookingObject,instructionData,otherPerson);if(result.error){setLoading2(false);setCommonAlert({open:true,msg:result.msg});}else{profileData['uid']=auth.profile.uid;let bookingData=result.bookingObject;bookingData.userDetails.firstName=profileData.firstName;bookingData.userDetails.lastName=profileData.lastName;bookingData.userDetails.email=profileData.email;setBookingOnWait(bookingData);}setTimeout(()=>{dispatch(updateProfileWithEmail(profileData));},200);}});}else{setLoading2(false);setCommonAlert({open:true,msg:t('proper_email')});}}else{setLoading2(false);setCommonAlert({open:true,msg:t('proper_input_name')});}// } else {\n//   setCommonAlert({ open: true, msg: t('deliveryDetailMissing') })\n// }\n}else{if(radioProps[payment_mode].cat==='card'){const paymentPacket={payment_mode:'card',customer_paid:parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),cardPaymentAmount:parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),discount:0,usedWalletMoney:0,cashPaymentAmount:0,promo_applied:false,promo_details:null,payableAmount:parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal)};bookingObject['paymentPacket']=paymentPacket;}const result=validateBookingObj(t,bookingObject,instructionData,otherPerson);if(result.error){setLoading2(false);setCommonAlert({open:true,msg:result.msg});}else{setEstimateModalStatus(false);dispatch(addBooking(result.bookingObject));}}}else{setLoading2(false);setCommonAlert({open:true,msg:t('wallet_balance_low')});}}else{setLoading2(false);setCommonAlert({open:true,msg:t('offer_price_greter_minimum_price')});}}else{setLoading2(false);setCommonAlert({open:true,msg:t('otherPersonDetailMissing')});}}else{setLoading2(false);setCommonAlert({open:true,msg:t('wallet_booking_alert')});}};const handleOptionModalClose=e=>{e.preventDefault();setOptionModalStatus(false);};const handleEstimateModalClose=e=>{e.preventDefault();setEstimateModalStatus(false);dispatch(clearEstimate());setEstimateRequested(false);};const handleEstimateErrorClose=e=>{e.preventDefault();dispatch(clearEstimate());setEstimateRequested(false);};const handleBookingErrorClose=e=>{e.preventDefault();dispatch(clearBooking());setEstimateRequested(false);};const handleCommonAlertClose=e=>{e.preventDefault();setCommonAlert({open:false,msg:''});};const handleWalletModalClose=e=>{setTimeout(()=>{setWalletModalStatus(false);dispatch(clearBooking());dispatch(clearEstimate());},1500);};const handlePaymentModalClose=e=>{setTimeout(()=>{setPaymentModalStatus(false);dispatch(clearBooking());dispatch(clearEstimate());},1500);};return loading2?/*#__PURE__*/_jsx(Grid,{container:true,style:{display:'flex',justifyContent:'center',alignItems:'center',height:'80vh'},children:/*#__PURE__*/_jsx(CircularProgress,{})}):/*#__PURE__*/_jsxs(\"div\",{className:classes.container,ref:rootRef,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:8,lg:8,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{className:classes.title,style:{textAlign:isRTL==='rtl'?'right':'left',fontFamily:FONT_FAMILY},children:t('add_booking_title')})}),/*#__PURE__*/_jsx(\"div\",{className:classes.container1,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:users&&auth.profile.usertype&&auth.profile.usertype!=='customer'?/*#__PURE__*/_jsx(UsersCombo,{className:classes.items,placeholder:t('select_user'),users:users,value:userCombo,onChange:(event,newValue)=>{setUserCombo(newValue);}}):null}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(GoogleMapsAutoComplete,{variant:\"outlined\",placeholder:t('pickup_location'),value:pickupAddress,className:classes.items,onChange:value=>{setPickupAddress(value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(GoogleMapsAutoComplete,{placeholder:t('drop_location'),variant:\"outlined\",value:dropAddress,className:classes.items,onChange:value=>{setDropAddress(value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:cartypes?/*#__PURE__*/_jsxs(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:carType,onChange:handleCarSelect,variant:\"outlined\",fullWidth:true,style:{textAlign:isRTL==='rtl'?'right':'left'},className:carType===t('select_car')?classes.inputdimmed:classes.input,sx:{color:colors.BLACK,\"&.Mui-focused .MuiOutlinedInput-notchedOutline\":{borderColor:MAIN_COLOR}},children:[/*#__PURE__*/_jsx(MenuItem,{dense:true,value:t('select_car'),style:{direction:isRTL==='rtl'?'rtl':'ltr',width:'100%',justifyContent:'flex-start',paddingLeft:10,fontFamily:FONT_FAMILY},children:t('select_car')},t('select_car')),cartypes.sort((a,b)=>a.pos-b.pos).map(car=>/*#__PURE__*/_jsxs(MenuItem,{dense:true,value:car.name,style:{direction:isRTL==='rtl'?'rtl':'ltr',width:'100%',justifyContent:'flex-start',paddingLeft:10,fontFamily:FONT_FAMILY},children:[/*#__PURE__*/_jsx(\"img\",{src:car.image,className:isRTL==='rtl'?classes.carphotoRtl:classes.carphoto,alt:\"car types\"}),t(getLangKey(car.name))]},car.name))]}):null}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(Select,{id:\"booking-type-native\",value:bookingType,onChange:handleBookTypeSelect,className:classes.input,style:{textAlign:isRTL==='rtl'?'right':'left'},sx:{color:colors.BLACK,\"&.Mui-focused .MuiOutlinedInput-notchedOutline\":{borderColor:MAIN_COLOR}},variant:\"outlined\",fullWidth:true,inputProps:{'aria-label':'Without label'},children:[/*#__PURE__*/_jsx(MenuItem,{dense:true,value:\"Book Now\",style:{direction:isRTL==='rtl'?'rtl':'ltr',width:'100%',justifyContent:'flex-start',paddingLeft:10,fontFamily:FONT_FAMILY},children:t('book_now')},\"Book Now\"),/*#__PURE__*/_jsx(MenuItem,{dense:true,value:\"Book Later\",style:{direction:isRTL==='rtl'?'rtl':'ltr',width:'100%',justifyContent:'flex-start',paddingLeft:10,fontFamily:FONT_FAMILY},children:t('book_later')},\"Book Later\")]})}),bookingType==='Book Later'?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{InputLabelProps:{style:{fontFamily:FONT_FAMILY}},id:\"datetime-local\",label:t('booking_date_time'),type:\"datetime-local\",variant:\"outlined\",fullWidth:true,className:[isRTL==='rtl'?classes.inputRtl:classes.commonInputStyle,classes.textField].join(\" \"),InputProps:{className:classes.input,style:{textAlignLast:isRTL==='rtl'?'end':'start'}},value:selectedDate,onChange:onDateChange})}):null,bookingType==='Book Later'?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(Button,{size:\"lg\",onClick:handleGetOptions,variant:\"contained\",color:\"secondaryButton\",className:classes.buttonStyle,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-car\",style:isRTL==='rtl'?{marginLeft:5}:{marginRight:5}}),t('book')]})}):/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Button,{size:\"lg\",onClick:handleGetOptions,variant:\"contained\",color:\"secondaryButton\",className:classes.buttonStyle,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-car\",style:isRTL==='rtl'?{marginLeft:5}:{marginRight:5}}),t('book')]})})]})})]}),/*#__PURE__*/_jsx(Modal,{disablePortal:true,disableEnforceFocus:true,disableAutoFocus:true,open:optionModalStatus,onClose:handleOptionModalClose,className:classes.modal,container:()=>rootRef.current,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,className:classes.paper,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:selectedCarDetails&&selectedCarDetails.parcelTypes?/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",style:{fontFamily:FONT_FAMILY},children:t('parcel_types')}),/*#__PURE__*/_jsx(RadioGroup,{name:\"parcelTypeIndex\",value:instructionData.parcelTypeIndex,onChange:handleChange,children:selectedCarDetails.parcelTypes.map((element,index)=>/*#__PURE__*/_jsx(FormControlLabel,{value:index,control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:settings.swipe_symbol===false?settings.symbol+' '+element.amount+' - '+t(getLangKey(element.description)):element.amount+' '+settings.symbol+' - '+t(getLangKey(element.description))})},element.description))})]}):null}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:selectedCarDetails&&selectedCarDetails.options?/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",style:{fontFamily:FONT_FAMILY},children:t('options')}),/*#__PURE__*/_jsx(RadioGroup,{name:\"optionIndex\",value:instructionData.optionIndex,onChange:handleChange,children:selectedCarDetails.options.map((element,index)=>/*#__PURE__*/_jsx(FormControlLabel,{value:index,control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:settings.swipe_symbol===false?settings.symbol+' '+element.amount+' - '+t(getLangKey(element.description)):element.amount+' '+settings.symbol+' - '+t(getLangKey(element.description))})},element.description))})]}):null}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:[/*#__PURE__*/_jsx(Button,{onClick:handleOptionModalClose,variant:\"contained\",color:\"primary\",className:classes.buttonStyle2,children:t('cancel')}),/*#__PURE__*/_jsx(Button,{onClick:handleGetEstimate,variant:\"contained\",color:\"primary\",style:isRTL==='rtl'?{marginRight:10}:{marginLeft:10},className:classes.buttonStyle1,children:t('get_estimate')})]})]})}),/*#__PURE__*/_jsx(Modal,{disablePortal:true,disableEnforceFocus:true,disableAutoFocus:true,open:estimateModalStatus,onClose:handleEstimateModalClose,className:classes.modal,container:()=>rootRef.current,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,className:classes.paper,children:[/*#__PURE__*/_jsx(BookingModalBody,{classes:classes,instructionData:instructionData,handleChange:handleChange,tripInstructions:tripInstructions,roundTrip:roundTrip,auth:auth,profileData:profileData,settings:settings,deliveryWithBid:deliveryWithBid,otherPerson:otherPerson,setOtherPerson:setOtherPerson,minimumPrice:minimumPrice,offerFare:offerFare,estimate:estimatedata.estimate}),showEst&&settings&&settings.hasOwnProperty(\"bookingFlow\")&&(settings.bookingFlow===\"0\"||settings.bookingFlow===\"2\")?null:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:settings.swipe_symbol===false?/*#__PURE__*/_jsxs(Typography,{color:'primary',style:{fontSize:30,fontFamily:FONT_FAMILY},children:[t('total'),\" - \",settings?settings.symbol:null,\" \",estimatedata.estimate?estimatedata.estimate.estimateFare:null]}):/*#__PURE__*/_jsxs(Typography,{color:'primary',style:{fontSize:30,fontFamily:FONT_FAMILY},children:[t('total'),\" - \",estimatedata.estimate?estimatedata.estimate.estimateFare:null,\" \",settings?settings.symbol:null]})}),auth.profile.usertype==='customer'?/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",style:{fontFamily:FONT_FAMILY},children:t('payment_mode')}),/*#__PURE__*/_jsx(RadioGroup,{name:\"payment_mode\",value:payment_mode,onChange:handleChange,children:radioProps.map((element,index)=>/*#__PURE__*/_jsx(FormControlLabel,{value:index,control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsx(Typography,{className:classes.typography,children:element.label})},element.cat))})]})}):null,/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:loading?/*#__PURE__*/_jsx(DialogActions,{style:{justifyContent:'center',alignContent:'center'},children:/*#__PURE__*/_jsx(CircularProgress,{})}):/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Button,{onClick:handleEstimateModalClose,variant:\"contained\",style:{backgroundColor:colors.RED,fontFamily:FONT_FAMILY},children:t('cancel')}),/*#__PURE__*/_jsx(Button,{onClick:confirmBooking,variant:\"contained\",style:isRTL==='rtl'?{marginRight:10,backgroundColor:colors.GREEN}:{marginLeft:10,backgroundColor:colors.GREEN,fontFamily:FONT_FAMILY},children:t('book_now')})]})})]})}),/*#__PURE__*/_jsx(Modal,{disablePortal:true,disableEnforceFocus:true,disableAutoFocus:true,open:walletModalStatus,onClose:handleWalletModalClose,className:classes.modal,container:()=>rootRef.current,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,className:classes.paper,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(Typography,{style:{fontWeight:'bolder',marginBottom:10},children:t('payment')}),bookingdata&&bookingdata.booking?/*#__PURE__*/_jsx(Typography,{color:\"primary\",style:{fontSize:30},children:settings.swipe_symbol===false?settings.symbol+bookingdata.booking.mainData.trip_cost:bookingdata.booking.mainData.trip_cost+settings.symbol}):null,/*#__PURE__*/_jsx(Typography,{children:t('use_wallet_balance')+\" \"+(settings.swipe_symbol===false?settings.symbol+auth.profile.walletBalance:auth.profile.walletBalance+settings.symbol)+\")\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:12,lg:12,children:[/*#__PURE__*/_jsx(Button,{onClick:handleWalletModalClose,variant:\"contained\",style:{backgroundColor:colors.RED},children:t('cancel')}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{marginLeft:10,backgroundColor:colors.GREEN},onClick:handleWalletPayment,children:t('paynow_button')})]})]})}),/*#__PURE__*/_jsx(Modal,{disablePortal:true,disableEnforceFocus:true,disableAutoFocus:true,open:paymentModalStatus,onClose:handlePaymentModalClose,className:classes.modal,container:()=>rootRef.current,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,className:classes.paper,children:providers&&selectedProvider&&bookingdata&&bookingdata.booking?/*#__PURE__*/_jsxs(\"form\",{action:selectedProvider.link,method:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"order_id\",value:bookingdata.booking.booking_id}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"amount\",value:bookingdata.booking.mainData.trip_cost}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"currency\",value:settings.code}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"product_name\",value:t('bookingPayment')}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"first_name\",value:auth.profile.firstName}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"last_name\",value:auth.profile.lastName}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"quantity\",value:1}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"cust_id\",value:bookingdata.booking.mainData.customer}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"mobile_no\",value:bookingdata.booking.mainData.customer_contact}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"email\",value:bookingdata.booking.mainData.customer_email}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",children:t('payment')}),/*#__PURE__*/_jsx(Select,{id:\"selectedProviderIndex\",name:\"selectedProviderIndex\",value:selectedProviderIndex,label:t('payment'),onChange:handleChange,style:{textAlign:isRTL==='rtl'?'right':'left'},inputProps:{'aria-label':'Without label'},children:providers.map((provider,index)=>/*#__PURE__*/_jsxs(MenuItem,{value:index,children:[/*#__PURE__*/_jsx(\"img\",{style:{height:24,margin:7},src:icons[provider.name],alt:provider.name}),\" \"]},provider.name))})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:12,lg:12,children:[/*#__PURE__*/_jsx(Button,{onClick:handlePaymentModalClose,variant:\"contained\",color:\"primary\",children:t('cancel')}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",style:{marginLeft:10},onClick:handlePaymentModalClose,children:t('paynow_button')})]})]}):null})}),/*#__PURE__*/_jsx(AlertDialog,{open:bookingdata.error.flag,onClose:handleBookingErrorClose,children:bookingdata.error.msg}),/*#__PURE__*/_jsx(AlertDialog,{open:estimatedata.error.flag,onClose:handleEstimateErrorClose,children:estimatedata.error.msg}),/*#__PURE__*/_jsx(AlertDialog,{open:commonAlert.open,onClose:handleCommonAlertClose,children:commonAlert.msg})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","Select","MenuItem","Grid","Typography","TextField","FormControlLabel","FormControl","FormLabel","Radio","RadioGroup","Modal","GoogleMapsAutoComplete","useSelector","useDispatch","AlertDialog","makeStyles","UsersCombo","api","Button","useTranslation","colors","BookingModalBody","validateBookingObj","useLocation","useNavigate","calcEst","showEst","optionsRequired","DialogActions","CircularProgress","MAIN_COLOR","SECONDORY_COLOR","FONT_FAMILY","getLangKey","jsx","_jsx","jsxs","_jsxs","useStyles","theme","root","margin","spacing","body","backgroundColor","palette","common","white","fontFamily","typography","modal","display","padding","alignItems","justifyContent","paper","width","background","border","concat","BLACK","boxShadow","shadows","container","marginTop","alignContent","borderRadius","container1","LandingPage_Background","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","top","title","color","WHITE","fontSize","gridcontainer","items","input","inputdimmed","CARD_LABEL","carphoto","height","marginRight","carphotoRtl","marginLeft","buttonStyle","buttonStyle1","buttonStyle2","inputRtl","right","left","textAlign","borderBottomColor","borderColor","rightRty","textField","icons","require","default","AddBookings","props","t","i18n","isRTL","dir","getEstimate","clearEstimate","addBooking","clearBooking","MinutesPassed","GetDateString","GetDistance","updateBooking","updateProfileWithEmail","checkUserExists","getDirectionsApi","dispatch","classes","cartypes","state","cars","estimatedata","bookingdata","userdata","usersdata","auth","settings","settingsdata","providers","paymentmethods","activeBookings","bookinglistdata","active","carType","setCarType","pickupAddress","setPickupAddress","dropAddress","setDropAddress","optionModalStatus","setOptionModalStatus","estimateModalStatus","setEstimateModalStatus","selectedCarDetails","setSelectedCarDetails","users","setUsers","commonAlert","setCommonAlert","open","msg","userCombo","setUserCombo","estimateRequested","setEstimateRequested","bookingType","setBookingType","rootRef","tempRoute","setTempRoute","drivers","setDrivers","paymentModalStatus","setPaymentModalStatus","walletModalStatus","setWalletModalStatus","selectedProvider","setSelectedProvider","selectedProviderIndex","setSelectedProviderIndex","roundTrip","setRoundTrip","tripInstructions","setTripInstructions","loading","setLoading","loading2","setLoading2","bookingOnWait","setBookingOnWait","deliveryWithBid","setDeliveryWithBid","otherPerson","setOtherPerson","offerFare","setOfferFare","minimumPrice","setMinimumPrice","bookingFlow","instructionData","setInstructionData","otherPersonPhone","pickUpInstructions","deliveryInstructions","parcelTypeIndex","optionIndex","parcelTypeSelected","optionSelected","profileData","setProfileData","firstName","lastName","email","payment_mode","setPaymentMode","radioProps","setRadioProps","navigate","arr","label","value","cat","val","disable_online","length","push","disable_cash","carDetails","carData","name","deliveryPerson","deliveryPersonPhone","Array","isArray","parcelTypes","options","handleChange","e","target","_objectSpread","parseInt","selectedDate","setSelectedDate","clearForm","profile","booking","mainData","status","handleCarSelect","event","i","instObj","handleBookTypeSelect","onDateChange","estimate","coustomerBidPrice","price","estimateFare","ammount","coustomerBidPriceType","parseFloat","bidprice","toFixed","decimal","user","usertype","fleetadmin","uid","mobile","id","AllowCriticalEditsAdmin","pushToken","arrDrivers","approved","queue","driverActiveStatus","location","licenseImage","license_image_required","carApproved","carType_required","term","term_required","handleGetOptions","preventDefault","imageIdApproval","verifyId","walletBalance","route","coords","lat","lng","estimateRequest","pickup","drop","routeDetails","handleWalletPayment","curBooking","trip_cost","requestedDrivers","autoDispatch","driver","distance","convert_to_mile","driverRadius","prepaid","customer_paid","discount","usedWalletMoney","cardPaymentAmount","cashPaymentAmount","payableAmount","setTimeout","handleGetEstimate","confirmBooking","driverEstimates","notfound","regx1","test","timein_text","Object","keys","bookingObject","userDetails","tripdate","Date","getTime","bookLater","booking_type_admin","booking_type_fleetadmin","booking_from_web","customer_offer","re","then","res","alert","error","paymentPacket","promo_applied","promo_details","result","bookingData","handleOptionModalClose","handleEstimateModalClose","handleEstimateErrorClose","handleBookingErrorClose","handleCommonAlertClose","handleWalletModalClose","handlePaymentModalClose","style","children","className","ref","item","xs","sm","md","lg","placeholder","onChange","newValue","variant","labelId","fullWidth","sx","dense","direction","paddingLeft","sort","a","b","pos","map","car","src","image","alt","inputProps","InputLabelProps","type","commonInputStyle","join","InputProps","textAlignLast","size","onClick","disablePortal","disableEnforceFocus","disableAutoFocus","onClose","current","component","element","index","control","swipe_symbol","symbol","amount","description","hasOwnProperty","RED","GREEN","marginBottom","fontWeight","action","link","method","booking_id","code","customer","customer_contact","customer_email","provider","flag"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/web-app/src/views/AddBookings.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Select,\n  MenuItem,\n  Grid,\n  Typography,\n  TextField,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n  Radio,\n  RadioGroup,\n  Modal,\n} from '@mui/material';\nimport GoogleMapsAutoComplete from '../components/GoogleMapsAutoComplete';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport AlertDialog from '../components/AlertDialog';\nimport { makeStyles } from '@mui/styles';\nimport UsersCombo from '../components/UsersCombo';\nimport { api } from 'common';\nimport Button from \"components/CustomButtons/Button.js\";\nimport { useTranslation } from \"react-i18next\";\nimport {colors} from '../components/Theme/WebTheme';\nimport { BookingModalBody, validateBookingObj } from 'common/sharedFunctions';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { calcEst, showEst, optionsRequired} from '../common/sharedFunctions';\nimport DialogActions from '@mui/material/DialogActions';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport {MAIN_COLOR, SECONDORY_COLOR, FONT_FAMILY} from \"../common/sharedFunctions\"\nimport { getLangKey } from 'common/src/other/getLangKey';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n    fontFamily:FONT_FAMILY\n  },\n  typography:{\n    fontFamily:FONT_FAMILY,\n  },\n  modal: {\n    display: 'flex',\n    padding: theme.spacing(1),\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    width:480,\n    backgroundColor: theme.palette.background.paper,\n    border: `2px solid ${colors.BLACK}`,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  container: {\n    marginTop: theme.spacing(1),\n    backgroundColor: MAIN_COLOR,\n    alignContent: 'center',\n    borderRadius: \"8px\",\n    width: '70%',\n   \n  },\n  container1: {\n    backgroundColor: colors.LandingPage_Background,\n    borderTopLeftRadius:\"0px\",\n    borderTopRightRadius:\"0px\",\n    borderBottomLeftRadius: \"8px\",\n    borderBottomRightRadius: \"8px\",\n    padding:'30px',\n    width: '100%',\n    top: \"19px\",\n    boxShadow: `0px 2px 5px ${SECONDORY_COLOR}`,\n  },\n  title: {\n    color: colors.WHITE,\n    padding: '10px',\n    backgroundColor:MAIN_COLOR,\n    fontFamily:FONT_FAMILY,\n    borderRadius:\"10px\",\n    fontSize:18,\n\n  },\n  gridcontainer: {\n    alignContent: 'center'\n  },\n  items: {\n    margin: 0,\n    width: '100%'\n  },\n  input: {\n    fontSize: 18,\n    color: colors.BLACK,\n    fontFamily:FONT_FAMILY,\n  },\n  inputdimmed: {\n    fontSize: 18,\n    color: colors.CARD_LABEL,\n    fontFamily:FONT_FAMILY,\n  },\n  carphoto: {\n    height: '18px',\n    marginRight: '10px'\n  },\n  carphotoRtl:{\n    height: '16px',\n    marginLeft:'10px'\n  },\n  buttonStyle: {\n    margin: 0,\n    width: '100%',\n    height: 40,\n    borderRadius: \"30px\",\n    backgroundColor: MAIN_COLOR,\n    color:colors.WHITE,\n    fontFamily:FONT_FAMILY,\n  },\n  buttonStyle1:{\n    backgroundColor: MAIN_COLOR,\n    fontFamily:FONT_FAMILY\n  },\n  buttonStyle2:{\n    backgroundColor: SECONDORY_COLOR,\n    fontFamily:FONT_FAMILY\n  },\n  inputRtl: {\n    \"& label\": {\n      right: 25,\n      left: \"auto\",\n      fontFamily:FONT_FAMILY,\n    },\n    \"& legend\": {\n      textAlign: \"right\",\n      marginRight: 18,\n      fontFamily:FONT_FAMILY,\n    },\n    \"& label.Mui-focused\": {\n      color: MAIN_COLOR,\n    },\n    \"& .MuiInput-underline:after\": {\n      borderBottomColor: MAIN_COLOR,\n    },\n    \"& .MuiFilledInput-underline:after\": {\n      borderBottomColor: MAIN_COLOR,\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: MAIN_COLOR,\n      },\n    },\n    \"& input\": {\n      fontFamily: FONT_FAMILY,\n    },\n  },\n  rightRty:{\n    \"& legend\": {\n      marginRight: 30,\n      fontFamily:FONT_FAMILY,\n    },\n    \"& input\": {\n      fontFamily: FONT_FAMILY,\n    },\n  },\n  textField: {\n    \"& label.Mui-focused\": {\n      color: MAIN_COLOR,\n    },\n    \"& .MuiInput-underline:after\": {\n      borderBottomColor: MAIN_COLOR,\n    },\n    \"& .MuiFilledInput-underline:after\": {\n      borderBottomColor: MAIN_COLOR,\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused fieldset\": {\n        borderColor: MAIN_COLOR,\n      },\n    },\n    \"& input\": {\n      fontFamily: FONT_FAMILY,\n    },\n  },\n}));\n\nconst icons = {\n  'paypal':require('../assets/payment-icons/paypal-logo.png').default,\n  'braintree':require('../assets/payment-icons/braintree-logo.png').default,\n  'stripe':require('../assets/payment-icons/stripe-logo.png').default,\n  'paytm':require('../assets/payment-icons/paytm-logo.png').default,\n  'payulatam':require('../assets/payment-icons/payulatam-logo.png').default,\n  'flutterwave':require('../assets/payment-icons/flutterwave-logo.png').default,\n  'paystack':require('../assets/payment-icons/paystack-logo.png').default,\n  'securepay':require('../assets/payment-icons/securepay-logo.png').default,\n  'payfast':require('../assets/payment-icons/payfast-logo.png').default,\n  'liqpay':require('../assets/payment-icons/liqpay-logo.png').default,\n  'culqi':require('../assets/payment-icons/culqi-logo.png').default,\n  'mercadopago':require('../assets/payment-icons/mercadopago-logo.png').default,\n  'squareup':require('../assets/payment-icons/squareup-logo.png').default,\n  'wipay':require('../assets/payment-icons/wipay-logo.png').default,\n  'test':require('../assets/payment-icons/test-logo.png').default,\n  'razorpay':require('../assets/payment-icons/razorpay-logo.png').default,\n  'paymongo':require('../assets/payment-icons/paymongo-logo.png').default,\n  'iyzico':require('../assets/payment-icons/iyzico-logo.png').default,\n  'slickpay':require('../assets/payment-icons/slickpay-logo.png').default,\n  'xendit':require('../assets/payment-icons/xendit-logo.png').default,\n  'tap':require('../assets/payment-icons/tap-logo.png').default\n}\n\nexport default function AddBookings(props) {\n  const { t, i18n  } = useTranslation();\n  const isRTL = i18n.dir();\n  const {\n    getEstimate,\n    clearEstimate,\n    addBooking,\n    clearBooking,\n    MinutesPassed,\n    GetDateString,\n    GetDistance,\n    updateBooking,\n    updateProfileWithEmail,\n    checkUserExists,\n    getDirectionsApi\n  } = api;\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const cartypes = useSelector(state => state.cartypes.cars);\n  const estimatedata = useSelector(state => state.estimatedata);\n  const bookingdata = useSelector(state => state.bookingdata);\n  const userdata = useSelector(state => state.usersdata);\n  const auth = useSelector(state => state.auth);\n  const settings = useSelector(state => state.settingsdata.settings);\n  const providers = useSelector(state => state.paymentmethods.providers);\n  const activeBookings = useSelector(state => state.bookinglistdata.active);\n  const [carType, setCarType] = useState(t('select_car'));\n  const [pickupAddress, setPickupAddress] = useState(null);\n  const [dropAddress, setDropAddress] = useState(null);\n  const [optionModalStatus, setOptionModalStatus] = useState(false);\n  const [estimateModalStatus, setEstimateModalStatus] = useState(false);\n  const [selectedCarDetails, setSelectedCarDetails] = useState(null);\n  const [users, setUsers] = useState(null);\n  const [commonAlert, setCommonAlert] = useState({ open: false, msg: '' });\n  const [userCombo, setUserCombo] = useState(null);\n  const [estimateRequested, setEstimateRequested] = useState(false);\n  const [bookingType, setBookingType] = useState('Book Now');\n  const rootRef = useRef(null);\n  const [tempRoute, setTempRoute] = useState();\n  const [drivers,setDrivers] = useState([]);\n  const [paymentModalStatus, setPaymentModalStatus] = useState(false);\n  const [walletModalStatus, setWalletModalStatus] = useState(false);\n  const {state} = useLocation();\n  const [selectedProvider, setSelectedProvider] = useState();\n  const [selectedProviderIndex, setSelectedProviderIndex] = useState(0);\n  const [roundTrip, setRoundTrip] = useState(0);\n  const [tripInstructions, setTripInstructions] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [loading2, setLoading2] = useState(false);\n  const [bookingOnWait,setBookingOnWait] = useState();\n  const [deliveryWithBid, setDeliveryWithBid] = useState(0);\n  const [otherPerson, setOtherPerson] = useState(false);\n  const [offerFare, setOfferFare] = useState('');\n  const [minimumPrice, setMinimumPrice] = useState(0);\n\n  useEffect(() => {\n    if (settings && settings.bookingFlow) {\n        setDeliveryWithBid(settings.bookingFlow === \"2\" ? 1 : 0)\n    }\n  }, [settings, settings.bookingFlow])\n\n\n\n  const [instructionData,setInstructionData] = useState({\n    otherPerson : \"\",\n    otherPersonPhone: \"\",\n    pickUpInstructions: \"\",\n    deliveryInstructions: \"\",\n    parcelTypeIndex: 0,\n    optionIndex: 0,\n    parcelTypeSelected: null,\n    optionSelected: null\n  });\n\n  const [profileData,setProfileData] = useState({\n    firstName : '',\n    lastName : '',\n    email: ''\n  });\n\n  const [payment_mode, setPaymentMode] = useState(0);\n  const [radioProps,setRadioProps] =  useState([]);\n\n  const navigate = useNavigate();\n\n  useEffect(()=>{\n      if(settings && providers){\n        setSelectedProvider(providers[0]);\n        let arr = [{ label: t('wallet'), value: 0, cat: 'wallet' }];\n        let val = 0;\n        if(!settings.disable_online && providers && providers.length > 0){\n            val++;\n            arr.push({ label: t('card'), value: val , cat: 'card' });\n        }\n        if(!settings.disable_cash){\n            val++;\n            arr.push({ label: t('cash'), value: val, cat: 'cash' });\n        }\n        setRadioProps(arr);\n      }\n  },[settings, providers, t]);;\n\n  useEffect(() => {\n    if(state && state !== null){\n      let carDetails = state.carData;\n      setCarType(carDetails.name)\n      setInstructionData({\n        deliveryPerson : \"\",\n        deliveryPersonPhone: \"\",\n        pickUpInstructions: \"\",\n        deliveryInstructions: \"\",\n        parcelTypeIndex: 0,\n        optionIndex: 0,\n        parcelTypeSelected: Array.isArray(carDetails.parcelTypes) ? carDetails.parcelTypes[0] : null,\n        optionSelected: Array.isArray(carDetails.options) ? carDetails.options[0] : null\n      })\n      setSelectedCarDetails(carDetails);\n    }\n  }, [state]);\n\n  const handleChange = (e) => {\n    if(e.target.name === 'parcelTypeIndex'){\n      setInstructionData({ \n        ...instructionData,\n        parcelTypeIndex: parseInt(e.target.value),\n        parcelTypeSelected: selectedCarDetails.parcelTypes[e.target.value]\n      });\n    }else if(e.target.name === 'optionIndex'){\n      setInstructionData({ \n        ...instructionData,\n        optionIndex: parseInt(e.target.value),\n        optionSelected: selectedCarDetails.options[e.target.value]\n      });\n    }else if(e.target.name === 'payment_mode'){\n      setPaymentMode(e.target.value);\n    }else if(e.target.name === 'selectedProviderIndex'){\n      setSelectedProviderIndex(parseInt(e.target.value));\n      setSelectedProvider(providers[parseInt(e.target.value)]);\n    }else if(e.target.name === 'tripInstructions'){\n      setTripInstructions(e.target.value);\n    }else if(e.target.name === 'roundTrip'){\n      setRoundTrip(e.target.value);\n    }else if(e.target.name === 'bookingFlow'){\n      setDeliveryWithBid(e.target.value);\n    }else if(e.target.name === 'firstName'){\n      setProfileData({ ...profileData, [e.target.name]: e.target.value });\n    }else if(e.target.name === 'lastName'){\n      setProfileData({ ...profileData, [e.target.name]: e.target.value });\n    }else if(e.target.name === 'email'){\n      setProfileData({ ...profileData, [e.target.name]: e.target.value });\n    }else if(e.target.name === 'offerFare'){\n      setOfferFare(e.target.value);\n    }else{\n      setInstructionData({ ...instructionData, [e.target.name]: e.target.value });\n    }\n  };\n\n  const [selectedDate, setSelectedDate] = useState(GetDateString());\n\n  const clearForm = () => {\n    setUserCombo(null);\n    setPickupAddress(null);\n    setDropAddress(null);\n    setSelectedCarDetails(null);\n    setCarType(t('select_car'));\n    setBookingType('Book Now');\n    setEstimateRequested(false);\n  }\n\n  useEffect(() => {\n    if (auth.profile && bookingOnWait) {\n      setEstimateModalStatus(false); \n      dispatch(addBooking(bookingOnWait));\n      setBookingOnWait(null);\n      setLoading(false);\n    }\n  }, [auth.profile,bookingOnWait,dispatch,addBooking])\n\n  useEffect(() => {\n    if (bookingdata.booking && bookingdata.booking.mainData.status === 'PAYMENT_PENDING') {\n      if(bookingdata.booking.mainData.payment_mode === 'cash'){\n        dispatch(clearBooking());\n        setTempRoute(null);\n        setLoading2(false);\n        navigate('/bookings')\n      } else{\n        if(bookingdata.booking.mainData.payment_mode === 'card'){\n          setLoading2(false);\n          setPaymentModalStatus(true);\n        }else{\n          setLoading2(false);\n          setWalletModalStatus(true);\n        }\n      }\n    }\n    if (bookingdata.booking && bookingdata.booking.mainData.status === 'NEW') {\n      dispatch(clearBooking());\n      setTempRoute(null);\n      setLoading2(false);\n      navigate('/bookings')\n    }\n  }, [bookingdata.booking,clearBooking,dispatch,navigate]);\n\n  const handleCarSelect = (event) => {\n    setCarType(event.target.value);\n    let carDetails = null;\n    for (let i = 0; i < cartypes.length; i++) {\n      if (cartypes[i].name === event.target.value) {\n        carDetails = cartypes[i];\n        let instObj = {...instructionData};\n        if(Array.isArray(cartypes[i].parcelTypes) && instObj.parcelTypeSelected !== cartypes[i].parcelTypes[0]){\n          instObj.parcelTypeSelected = cartypes[i].parcelTypes[0];\n          instObj.parcelTypeIndex = 0;\n        }\n        if(Array.isArray(cartypes[i].options) && instObj.optionSelected !== cartypes[i].options[0]){\n          instObj.optionSelected = cartypes[i].options[0];\n          instObj.optionIndex = 0;\n        }\n        setInstructionData(instObj);\n      }\n    }\n    setSelectedCarDetails(carDetails);\n  };\n\n  const handleBookTypeSelect = (event) => {\n    setBookingType(event.target.value);\n    if (bookingType === 'Book Later') {\n      setSelectedDate(GetDateString());\n    }\n  };\n\n  const onDateChange = (event) => {\n    setSelectedDate(event.target.value);\n  };\n\n  useEffect(() => {\n    if (estimatedata.estimate && estimateRequested) {\n      setEstimateRequested(false);\n      setEstimateModalStatus(true);\n    }\n    if (estimatedata.estimate && estimateRequested && settings && !settings.coustomerBidPrice) {\n      let  price = estimatedata.estimate.estimateFare;\n      let ammount =  settings.coustomerBidPriceType === 'flat' ? parseFloat(price- settings.bidprice).toFixed(settings.decimal) : parseFloat(price - parseFloat(price*(settings.bidprice/100))).toFixed(settings.decimal);\n      if(ammount && ammount > 0){setMinimumPrice(ammount)}\n    }\n    if (userdata.users) {\n      let arr = [];\n      for (let i = 0; i < userdata.users.length; i++) {\n        let user = userdata.users[i];\n        if (user.usertype === 'customer' && ((auth.profile.usertype === 'fleetadmin' && user.fleetadmin === auth.profile.uid) || auth.profile.usertype === 'admin')) {\n          arr.push({\n            'firstName': user.firstName,\n            'lastName': user.lastName,\n            'mobile': user.mobile,\n            'email': user.email,\n            'uid': user.id,\n            'desc': user.firstName + ' ' + user.lastName + ' (' + (settings.AllowCriticalEditsAdmin? user.mobile : t(\"hidden_demo\")) + ') ' + (settings.AllowCriticalEditsAdmin? user.email : t(\"hidden_demo\")),\n            'pushToken': user.pushToken ? user.pushToken : ''\n          });\n        }\n      }\n      setUsers(arr);\n      let arrDrivers = [];\n      for (let i = 0; i < userdata.users.length; i++) {\n        let user = userdata.users[i];\n        if ((user.usertype) && (user.usertype === 'driver') && (user.approved === true) && (user.queue === false) && (user.driverActiveStatus === true) && (user.location) && ((user.licenseImage && settings.license_image_required) || !settings.license_image_required) && ((user.carApproved && settings.carType_required) || !settings.carType_required) && ((user.term && settings.term_required) || !settings.term_required)) {\n          if((auth.profile.usertype === 'fleetadmin' && user.fleetadmin === auth.profile.uid) || auth.profile.usertype === 'admin' || auth.profile.usertype === 'customer'){\n            arrDrivers.push({\n              'uid': user.id,\n              'location': user.location,\n              'carType': user.carType,\n              'fleetadmin': user.fleetadmin ? user.fleetadmin : null\n            });\n          }\n        }\n      }\n      setDrivers(arrDrivers);\n    }\n  }, [estimatedata.estimate, userdata.users, estimateRequested, settings, auth.profile.usertype, auth.profile.uid,t]);\n \n \n  useEffect(() => {\n    if(auth.profile.usertype && auth.profile.usertype==='customer'){\n      setUserCombo({\n        'firstName': auth.profile.firstName,\n        'lastName': auth.profile.lastName,\n        'mobile': auth.profile.mobile,\n        'email': auth.profile.email,\n        'uid': auth.profile.uid,\n        'pushToken': auth.profile.pushToken ? auth.profile.pushToken : ''\n      })\n    }\n  }, [auth.profile]);\n\n\n  const mobile = (userCombo && userCombo.mobile ? true : false);\n\n  const handleGetOptions = async (e) => {\n    e.preventDefault();\n    if((settings && settings.imageIdApproval && auth.profile.usertype ==='customer' && auth.profile.verifyId) || auth.profile.usertype==='admin' || (settings && !settings.imageIdApproval && auth.profile.usertype ==='customer') || auth.profile.usertype === 'fleetadmin'){\n      if(!(settings && settings.disable_cash && (auth.profile.usertype==='admin'|| auth.profile.usertype === 'fleetadmin')) || auth.profile.usertype==='customer'){\n        if((auth.profile.usertype==='customer' && parseFloat(auth.profile.walletBalance)>=0) || auth.profile.usertype==='admin' || auth.profile.usertype === 'fleetadmin'){\n          setEstimateRequested(true);\n          if (userCombo && pickupAddress && dropAddress && selectedCarDetails) {\n            // const directionService = new window.google.maps.DirectionsService();\n            // directionService.route(\n            //   {\n            //     origin: new window.google.maps.LatLng(pickupAddress.coords.lat, pickupAddress.coords.lng),\n            //     destination: new window.google.maps.LatLng(dropAddress.coords.lat, dropAddress.coords.lng),\n            //     travelMode: window.google.maps.TravelMode.DRIVING\n            //   },\n            //   (result, status) => {\n                // if (status === window.google.maps.DirectionsStatus.OK) {\n                  // const route = {\n                  //   distance_in_km:(result.routes[0].legs[0].distance.value / 1000),\n                  //   time_in_secs:result.routes[0].legs[0].duration.value,\n                  //   polylinePoints:result.routes[0].overview_polyline\n                  // };\n                  const route = await getDirectionsApi(pickupAddress.coords.lat + \",\" + pickupAddress.coords.lng, dropAddress.coords.lat + ',' + dropAddress.coords.lng, null);\n                  setTempRoute(route);\n                  if(pickupAddress && dropAddress){\n                    if (bookingType === 'Book Now') {\n                      if(mobile === true){\n                        if(Array.isArray(selectedCarDetails.options) || Array.isArray(selectedCarDetails.parcelTypes)){\n                          setOptionModalStatus(true);\n                        }else{\n                          let estimateRequest = {\n                            pickup: pickupAddress,\n                            drop: dropAddress,\n                            carDetails: selectedCarDetails,\n                            instructionData: instructionData,\n                            routeDetails: route\n                          };\n                          dispatch(getEstimate(estimateRequest));\n                        }\n                      }else{\n                        setCommonAlert({ open: true, msg: t('incomplete_user')});\n                      }\n                    } else {\n                        if (bookingType === 'Book Later' && selectedDate) {\n                          if (MinutesPassed(selectedDate) >= 15) {\n                            if(mobile === true){\n                              if(Array.isArray(selectedCarDetails.options) || Array.isArray(selectedCarDetails.parcelTypes)){\n                                setOptionModalStatus(true);\n                              }else{\n                                let estimateRequest = {\n                                  pickup: pickupAddress,\n                                  drop: dropAddress,\n                                  carDetails: selectedCarDetails,\n                                  instructionData: instructionData,\n                                  routeDetails: route\n                                };\n                                dispatch(getEstimate(estimateRequest));\n                              }\n                            }else{\n                              setCommonAlert({ open: true, msg: t('incomplete_user')});\n                            }\n                          } else {\n                            setCommonAlert({ open: true, msg: t('past_booking_error') });\n                          }\n                        } else {\n                          setCommonAlert({ open: true, msg: t('select_proper') });\n                        }\n                      }\n                  } else {\n                    setCommonAlert({ open: true, msg: t('place_to_coords_error') })\n                  }\n              //   }\n              // }\n            // )\n          } else {\n            setCommonAlert({ open: true, msg: t('select_proper') })\n          }\n        }else{\n          setCommonAlert({ open: true, msg: t('wallet_balance_low') })\n        }\n      } else {\n        setCommonAlert({ open: true, msg: t('cash_booking_false') })\n      }\n    } else {\n      setCommonAlert({ open: true, msg: t('verifyid_error') })\n    }    \n  }\n\n  const handleWalletPayment = (e) => {\n    e.preventDefault();\n    let curBooking = { ...bookingdata.booking.mainData };\n    if(parseFloat(curBooking.trip_cost)>parseFloat(auth.profile.walletBalance) && radioProps[payment_mode].cat === 'wallet'){\n      setCommonAlert({open:true, msg: t('wallet_balance_low')});\n    }else{\n      let requestedDrivers = {};\n      if (settings.autoDispatch && bookingType === 'Book Now') {\n        for (let i = 0; i < drivers.length; i++) {\n          const driver = drivers[i];\n          let distance = GetDistance(pickupAddress.coords.lat, pickupAddress.coords.lng, driver.location.lat, driver.location.lng);\n          if (settings.convert_to_mile) {\n            distance = distance / 1.609344;\n          }\n          if (distance < ((settings && settings.driverRadius) ? settings.driverRadius : 10) && selectedCarDetails.name === driver.carType) {\n            requestedDrivers[driver['uid']] = true;\n          }\n        }\n      }\n      curBooking.prepaid = true;\n      curBooking.status = 'NEW';\n      curBooking.payment_mode = \"wallet\";\n      curBooking.customer_paid = parseFloat(curBooking.trip_cost).toFixed(settings.decimal);\n      curBooking.discount = 0;\n      curBooking.usedWalletMoney = parseFloat(curBooking.trip_cost).toFixed(settings.decimal);\n      curBooking.cardPaymentAmount = 0;\n      curBooking.cashPaymentAmount = 0;\n      curBooking.payableAmount = 0;\n      curBooking.requestedDrivers = requestedDrivers;\n\n      dispatch(updateBooking(curBooking));\n\n      setTimeout(()=>{\n        dispatch(clearEstimate());\n        setPaymentModalStatus(false);\n        setWalletModalStatus(false);\n        clearForm();\n        dispatch(clearBooking());\n        setTempRoute(null);\n        navigate('/bookings')\n      },1500);\n    }\n  }\n\n  const handleGetEstimate = (e) => {\n    e.preventDefault();\n    setOptionModalStatus(false);\n    let estimateRequest = {\n      pickup: pickupAddress,\n      drop: dropAddress,\n      carDetails: selectedCarDetails,\n      instructionData: instructionData,\n      routeDetails: tempRoute\n    };\n    dispatch(getEstimate(estimateRequest));\n  };\n\n  const confirmBooking = (e) => {\n    e.preventDefault();\n    setLoading2(true);\n    let requestedDrivers = {};\n    let driverEstimates = {};\n\n    let notfound = true;\n    if(activeBookings){\n        for(let i=0; i<activeBookings.length; i++){\n            if(activeBookings[i].payment_mode==='wallet' && activeBookings[i].status!=='PAID'){\n                notfound = false;\n                break;\n            }\n        }\n    }\n\n    if((radioProps[payment_mode].cat === 'wallet' && notfound && auth.profile.usertype === 'customer') || radioProps[payment_mode].cat !== 'wallet' || auth.profile.usertype === 'admin' || auth.profile.usertype === 'fleetadmin'){\n      const regx1 = /([0-9\\s-]{7,})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/;\n      if ((otherPerson && /\\S/.test(instructionData.otherPerson) && regx1.test(instructionData.otherPersonPhone) && instructionData.otherPersonPhone && instructionData.otherPersonPhone.length > 6) || !otherPerson){\n        if((offerFare > 0 && offerFare >= parseFloat(minimumPrice)) || offerFare === ''){\n          if ((radioProps[payment_mode].cat === 'wallet' && (parseFloat(auth.profile.walletBalance) >= parseFloat(estimatedata.estimate.estimateFare)) && !calcEst && auth.profile.usertype === 'customer') || radioProps[payment_mode].cat !== 'wallet' || (radioProps[payment_mode].cat === 'wallet' && calcEst && auth.profile.usertype === 'customer')|| auth.profile.usertype === 'admin' || auth.profile.usertype === 'fleetadmin') {\n            if (settings.autoDispatch && bookingType === 'Book Now') {\n              for (let i = 0; i < drivers.length; i++) {\n                const driver = drivers[i];\n                let distance = GetDistance(pickupAddress.coords.lat, pickupAddress.coords.lng, driver.location.lat, driver.location.lng);\n                if (settings.convert_to_mile) {\n                  distance = distance / 1.609344;\n                }\n                if (distance < ((settings && settings.driverRadius) ? settings.driverRadius : 10) && ((settings.carType_required && selectedCarDetails.name === driver.carType) || !settings.carType_required) && ((auth.profile.usertype === 'fleetadmin' && driver.fleetadmin === auth.profile.uid) || auth.profile.usertype !== 'fleetadmin')) {\n                  requestedDrivers[driver['uid']] = true;\n                  driverEstimates[driver['uid']] = {distance: distance, timein_text: ((distance * 2) + 1).toFixed(0) + ' min'};\n                }\n              }\n              if(Object.keys(requestedDrivers).length=== 0){\n                setLoading2(false);\n                setCommonAlert({open:true, msg: t('no_driver_found_alert_messege')});\n                return;\n              }\n            }\n\n            let bookingObject = {\n              pickup: pickupAddress,\n              drop: dropAddress,\n              carDetails: selectedCarDetails,\n              userDetails: {\n                uid: userCombo.uid,\n                firstName: userCombo.firstName,\n                lastName: userCombo.lastName,\n                mobile: userCombo.mobile,\n                pushToken: userCombo.pushToken,\n                email: userCombo.email\n              },\n              estimate: estimatedata.estimate,\n              instructionData: instructionData,\n              tripInstructions: tripInstructions,\n              roundTrip: roundTrip === 0? false: true,\n              tripdate: bookingType === 'Book Later' ? new Date(selectedDate).getTime() : new Date().getTime(),\n              bookLater: bookingType === 'Book Later' ? true : false,\n              settings: settings,\n              booking_type_admin: auth.profile.usertype === 'admin'? true: false,\n              booking_type_fleetadmin: auth.profile.usertype === 'fleetadmin'? true: false,\n              fleetadmin: auth.profile.usertype === 'fleetadmin'? auth.profile.uid: null,\n              requestedDrivers: calcEst ? requestedDrivers : (optionsRequired && radioProps[payment_mode].cat === 'cash') ? requestedDrivers : (settings.prepaid && radioProps[payment_mode].cat === 'cash') ? requestedDrivers : !settings.prepaid ? requestedDrivers : requestedDrivers ,\n              driverEstimates: driverEstimates,\n              payment_mode: (auth.profile.usertype === 'admin' || auth.profile.usertype === 'fleetadmin' )?'cash':radioProps[payment_mode].cat,\n              booking_from_web: true,\n              deliveryWithBid : auth.profile.usertype === 'customer'?  deliveryWithBid === 0 ? false : true :false,\n              offerFare: (offerFare && offerFare > 0) ? offerFare : 0,\n              customer_offer: (offerFare && offerFare > 0) ? offerFare : 0\n            };\n\n            if(auth.profile.usertype === 'customer' && !(auth.profile.firstName && auth.profile.lastName && auth.profile.email && auth.profile.firstName.length>0 && auth.profile.lastName.length>0 && auth.profile.email.length>0)){\n              // const regx1 = /([0-9\\s-]{7,})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?$/;\n              // if ((optionsRequired && /\\S/.test(instructionData.deliveryPerson) && regx1.test(instructionData.deliveryPersonPhone) && instructionData.deliveryPersonPhone && instructionData.deliveryPersonPhone.length > 6) || !optionsRequired){\n                if((profileData.firstName && profileData.firstName.length > 0 && profileData.lastName && profileData.lastName.length > 0) || (auth.profile.firstName && auth.profile.firstName.length > 0 && auth.profile.lastName && auth.profile.lastName.length > 0)){\n                  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n                  if((re.test(profileData.email) && !auth.profile.email) || (auth.profile.email && auth.profile.email.length > 0)){\n                    setLoading(true);\n                    checkUserExists({email: profileData.email}).then(async(res) => {\n                      if (res.users && res.users.length > 0) {\n                        setLoading(false);\n                        alert(t('user_exists'));\n                      }\n                      else if(res.error){\n                        setLoading(false);\n                        alert(t('email_or_mobile_issue'));\n                      } else{\n                        setLoading(false);\n                        if(radioProps[payment_mode].cat === 'card'){\n                          const paymentPacket = { \n                            payment_mode: 'card',\n                            customer_paid: parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),\n                            cardPaymentAmount: parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),\n                            discount: 0,\n                            usedWalletMoney:0,\n                            cashPaymentAmount: 0,\n                            promo_applied: false,\n                            promo_details: null,\n                            payableAmount: parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),\n                          };\n                          bookingObject['paymentPacket'] = paymentPacket;\n                        }\n                \n                        const result = validateBookingObj(t, bookingObject, instructionData, otherPerson);\n                        if(result.error){\n                          setLoading2(false);\n                          setCommonAlert({ open: true, msg: result.msg });\n                        } else{\n                          profileData['uid'] = auth.profile.uid;\n                          let bookingData = result.bookingObject;\n                          bookingData.userDetails.firstName = profileData.firstName;\n                          bookingData.userDetails.lastName = profileData.lastName;\n                          bookingData.userDetails.email = profileData.email;\n                          setBookingOnWait(bookingData);\n                        }\n                        setTimeout(()=>{\n                          dispatch(updateProfileWithEmail(profileData));\n                        },200) \n                      }\n                  });\n                  } else {\n                    setLoading2(false);\n                    setCommonAlert({ open: true, msg: t('proper_email') })\n                  }\n                } else {\n                  setLoading2(false);\n                  setCommonAlert({ open: true, msg: t('proper_input_name') })\n                }\n              // } else {\n              //   setCommonAlert({ open: true, msg: t('deliveryDetailMissing') })\n              // }\n            } else{\n              if(radioProps[payment_mode].cat === 'card'){\n                const paymentPacket = { \n                  payment_mode: 'card',\n                  customer_paid: parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),\n                  cardPaymentAmount: parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),\n                  discount: 0,\n                  usedWalletMoney:0,\n                  cashPaymentAmount: 0,\n                  promo_applied: false,\n                  promo_details: null,\n                  payableAmount: parseFloat(estimatedata.estimate.estimateFare).toFixed(settings.decimal),\n                };\n                bookingObject['paymentPacket'] = paymentPacket;\n              }\n              const result = validateBookingObj(t, bookingObject, instructionData, otherPerson);\n              if(result.error){\n                setLoading2(false);\n                setCommonAlert({ open: true, msg: result.msg });\n              } else{\n                setEstimateModalStatus(false); \n                dispatch(addBooking(result.bookingObject));\n              }\n            }\n          }else{\n            setLoading2(false);\n            setCommonAlert({ open: true, msg: t('wallet_balance_low') });\n          }\n        }else{\n          setLoading2(false);\n          setCommonAlert({ open: true, msg: t('offer_price_greter_minimum_price') })\n        }\n      } else {\n        setLoading2(false);\n        setCommonAlert({ open: true, msg: t('otherPersonDetailMissing') })\n      }\n    } else {\n      setLoading2(false);\n      setCommonAlert({ open: true, msg: t('wallet_booking_alert') });\n    }\n  };\n\n  const handleOptionModalClose = (e) => {\n    e.preventDefault();\n    setOptionModalStatus(false);\n  };\n\n  const handleEstimateModalClose = (e) => {\n    e.preventDefault();\n    setEstimateModalStatus(false);\n    dispatch(clearEstimate());\n    setEstimateRequested(false);\n  };\n\n  const handleEstimateErrorClose = (e) => {\n    e.preventDefault();\n    dispatch(clearEstimate());\n    setEstimateRequested(false);\n  };\n\n  const handleBookingErrorClose = (e) => {\n    e.preventDefault();\n    dispatch(clearBooking());\n    setEstimateRequested(false);\n  };\n\n  const handleCommonAlertClose = (e) => {\n    e.preventDefault();\n    setCommonAlert({ open: false, msg: '' })\n  };\n\n  const handleWalletModalClose = (e) => {\n    setTimeout(()=>{\n      setWalletModalStatus(false);\n      dispatch(clearBooking());\n      dispatch(clearEstimate());\n    },1500);\n  }\n\n  const handlePaymentModalClose = (e) => {\n    setTimeout(()=>{\n      setPaymentModalStatus(false);\n      dispatch(clearBooking());\n      dispatch(clearEstimate());\n    },1500);\n  }\nreturn loading2 ? (\n  <Grid\n    container\n    style={{\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '80vh'  \n    }}\n  >\n    <CircularProgress />\n  </Grid>\n)\n:\n   (\n    <div className={classes.container} ref={rootRef}>\n      <Grid item xs={12} sm={12} md={8} lg={8}>\n        <Grid item xs={12}>\n            <Typography className={classes.title} style={{textAlign:isRTL==='rtl'?'right':'left',fontFamily:FONT_FAMILY}}>\n              {t('add_booking_title')}\n            </Typography>\n          </Grid>\n        <div className={classes.container1}>\n          <Grid container spacing={2} >\n            <Grid item xs={12} >\n              {users && auth.profile.usertype && auth.profile.usertype!=='customer' ?\n                <UsersCombo\n                  className={classes.items}\n                  placeholder={t('select_user')}\n                  users={users}\n                  value={userCombo}\n                  onChange={(event, newValue) => {\n                    setUserCombo(newValue);\n                  }}\n                />\n                : null}\n            </Grid>\n            <Grid item xs={12} >\n              <GoogleMapsAutoComplete\n                variant={\"outlined\"}\n                placeholder={t('pickup_location')}\n                value={pickupAddress}\n                className={classes.items}\n                onChange={\n                  (value) => {\n                    setPickupAddress(value);\n                  }\n                }\n              />\n            </Grid>\n            <Grid item xs={12} >\n              <GoogleMapsAutoComplete placeholder={t('drop_location')}\n                variant={\"outlined\"}\n                value={dropAddress}\n                className={classes.items}\n                onChange={\n                  (value) => {\n                    setDropAddress(value);\n                  }\n                }\n              />\n            </Grid>\n            <Grid item xs={12} sm={6} >\n              {cartypes ?\n                  <Select\n                     labelId=\"demo-simple-select-label\"\n                     id=\"demo-simple-select\"\n                      value={carType}\n                      onChange={handleCarSelect}\n                      variant=\"outlined\"\n                      fullWidth\n                      style={{textAlign:isRTL==='rtl'? 'right':'left',}}\n                      className={carType === t('select_car') ? classes.inputdimmed : classes.input}\n                      sx={{color: colors.BLACK,\n                          \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n                          borderColor: MAIN_COLOR,\n                      },}}\n                     \n                  >\n                    <MenuItem dense={true} value={t('select_car')} key={t('select_car')} style={{direction:isRTL==='rtl'?'rtl':'ltr', width:'100%', justifyContent:'flex-start', paddingLeft:10,fontFamily:FONT_FAMILY}}>\n                      {t('select_car')}\n                    </MenuItem>\n                    {\n                      cartypes.sort((a, b) => a.pos - b.pos).map((car) =>\n                        <MenuItem dense={true}  key={car.name} value={car.name} style={{direction:isRTL==='rtl'?'rtl':'ltr', width:'100%', justifyContent:'flex-start', paddingLeft:10,fontFamily:FONT_FAMILY}}>\n                          <img src={car.image} className={isRTL==='rtl'? classes.carphotoRtl : classes.carphoto} alt=\"car types\"/>{t(getLangKey(car.name))}\n                        </MenuItem>\n                      )\n                    }\n                  </Select>\n                : null}\n            </Grid>\n            <Grid item xs={12} sm={6}>\n                <Select\n                  id=\"booking-type-native\"\n                  value={bookingType}\n                  onChange={handleBookTypeSelect}\n                  className={classes.input}\n                  style={{textAlign:isRTL==='rtl'? 'right':'left'}}\n                  sx={{color: colors.BLACK,\n                          \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n                          borderColor: MAIN_COLOR,\n                      },}}\n                  variant=\"outlined\"\n                  fullWidth\n                  inputProps={{ 'aria-label': 'Without label' }}\n                >\n                  <MenuItem dense key={\"Book Now\"} value={\"Book Now\"} style={{direction:isRTL==='rtl'?'rtl':'ltr', width:'100%', justifyContent:'flex-start', paddingLeft:10,fontFamily:FONT_FAMILY}}>\n                    {t('book_now')}\n                  </MenuItem>\n                  <MenuItem dense key={\"Book Later\"} value={\"Book Later\"} style={{direction:isRTL==='rtl'?'rtl':'ltr', width:'100%', justifyContent:'flex-start', paddingLeft:10,fontFamily:FONT_FAMILY}}>\n                    {t('book_later')}\n                  </MenuItem>\n                </Select>\n              </Grid>\n              {bookingType === 'Book Later' ?\n                <Grid item xs={12} sm={6} >\n                  <TextField\n                    InputLabelProps={{ style: { fontFamily: FONT_FAMILY } }}\n                    id=\"datetime-local\"\n                    label={t('booking_date_time')}\n                    type=\"datetime-local\"\n                    variant=\"outlined\"\n                    fullWidth\n                    className={[isRTL==='rtl'?classes.inputRtl:classes.commonInputStyle, classes.textField].join(\" \")}\n                    InputProps={{\n                      className: classes.input,\n                      style:{textAlignLast:isRTL==='rtl'?'end':'start'}\n                    }}\n                    value={selectedDate}\n                    onChange={onDateChange}\n                  />\n                </Grid>\n              : null}\n              {bookingType === 'Book Later' ?\n                <Grid item xs={12} sm={6} >\n                  <Button\n                    size=\"lg\"\n                    onClick={handleGetOptions}\n                    variant=\"contained\" \n                    color=\"secondaryButton\"\n                    className={classes.buttonStyle}\n                  >\n                    <i className=\"fas fa-car\" style={isRTL ==='rtl' ? {marginLeft:5}:{marginRight:5}}/>\n                    {t('book')}\n                  </Button>\n                </Grid>\n              :\n                <Grid item xs={12} >\n                  <Button\n                    size=\"lg\"\n                    onClick={handleGetOptions}\n                    variant=\"contained\" \n                    color=\"secondaryButton\"\n                    className={classes.buttonStyle}\n                  >\n                    <i className=\"fas fa-car\" style={isRTL ==='rtl' ? {marginLeft:5}:{marginRight:5}}/>\n                    {t('book')}\n                  </Button>\n                </Grid>\n              }\n          </Grid>\n        </div>\n      </Grid>\n      <Modal\n        disablePortal\n        disableEnforceFocus\n        disableAutoFocus\n        open={optionModalStatus}\n        onClose={handleOptionModalClose}\n        className={classes.modal}\n        container={() => rootRef.current}\n      >\n        <Grid container spacing={2} className={classes.paper}>\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\n          {selectedCarDetails && selectedCarDetails.parcelTypes?\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\" style={{fontFamily:FONT_FAMILY,}}>{t('parcel_types')}</FormLabel>\n              <RadioGroup name=\"parcelTypeIndex\" value={instructionData.parcelTypeIndex} onChange={handleChange}>\n                {selectedCarDetails.parcelTypes.map((element,index) =>\n                  <FormControlLabel key={element.description} value={index} control={<Radio />} label={ <Typography className={classes.typography}>{ settings.swipe_symbol===false? settings.symbol + ' ' + element.amount + ' - ' + t(getLangKey(element.description)): element.amount + ' ' + settings.symbol + ' - ' + t(getLangKey(element.description))}</Typography>}/>\n                )}\n              </RadioGroup>\n            </FormControl>\n          :null}\n          </Grid>\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\n          {selectedCarDetails && selectedCarDetails.options?\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\" style={{fontFamily:FONT_FAMILY,}}>{t('options')}</FormLabel>\n              <RadioGroup name=\"optionIndex\" value={instructionData.optionIndex} onChange={handleChange}>\n                {selectedCarDetails.options.map((element,index) =>\n                  <FormControlLabel key={element.description} value={index} control={<Radio />} label={ <Typography className={classes.typography}>{ settings.swipe_symbol===false? settings.symbol + ' ' + element.amount + ' - ' + t(getLangKey(element.description)): element.amount + ' ' + settings.symbol + ' - ' + t(getLangKey(element.description))}</Typography>} />\n                )}\n              </RadioGroup>\n            </FormControl>\n          :null}\n          </Grid>\n          <Grid item xs={12} sm={12} md={12} lg={12}  style={{textAlign:isRTL==='rtl'?'right':'left'}}>\n          <Button onClick={handleOptionModalClose} variant=\"contained\" color=\"primary\" className={classes.buttonStyle2}>\n            {t('cancel')}\n          </Button>\n          <Button onClick={handleGetEstimate} variant=\"contained\" color=\"primary\" style={isRTL==='rtl'?{marginRight:10}:{marginLeft:10}} className={classes.buttonStyle1}>\n            {t('get_estimate')}\n          </Button>\n          </Grid>\n        </Grid>\n      </Modal>\n      <Modal\n        disablePortal\n        disableEnforceFocus\n        disableAutoFocus\n        open={estimateModalStatus}\n        onClose={handleEstimateModalClose}\n        className={classes.modal}\n        container={() => rootRef.current}\n      >\n        <Grid container spacing={1} className={classes.paper}>\n          <BookingModalBody \n              classes={classes}  \n              instructionData={instructionData} \n              handleChange={handleChange}\n              tripInstructions={tripInstructions}\n              roundTrip={roundTrip}\n              auth={auth}\n              profileData={profileData}\n              settings={settings}\n              deliveryWithBid={deliveryWithBid}\n              otherPerson={otherPerson}\n              setOtherPerson={setOtherPerson}\n              minimumPrice={minimumPrice}\n              offerFare={offerFare}\n              estimate={estimatedata.estimate}\n          />\n          {showEst && settings && settings.hasOwnProperty( \"bookingFlow\" )&& (settings.bookingFlow === \"0\" || settings.bookingFlow === \"2\") ? null :\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\n            {settings.swipe_symbol===false?\n              <Typography color={'primary'} style={{fontSize:30, fontFamily:FONT_FAMILY,}}>\n                {t('total')} - {settings?settings.symbol:null} {estimatedata.estimate ? estimatedata.estimate.estimateFare : null}\n              </Typography>\n              :\n              <Typography color={'primary'} style={{fontSize:30, fontFamily:FONT_FAMILY,}}>\n                {t('total')} - {estimatedata.estimate ? estimatedata.estimate.estimateFare : null} {settings?settings.symbol:null}\n              </Typography>\n            }\n          </Grid>\n          }\n          {auth.profile.usertype === 'customer'?\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\" style={{fontFamily:FONT_FAMILY,}}>{t('payment_mode')}</FormLabel>\n              <RadioGroup name=\"payment_mode\" value={payment_mode} onChange={handleChange}>\n                {radioProps.map((element,index) =>\n                  <FormControlLabel key={element.cat} value={index} control={<Radio />} label={ <Typography className={classes.typography}>{element.label}</Typography>} />\n                )}\n              </RadioGroup>\n            </FormControl>\n          </Grid>\n          :null}\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\n          {loading?\n            <DialogActions style={{justifyContent:'center', alignContent:'center'}}>\n              <CircularProgress/>\n            </DialogActions>\n          :\n            <Grid item xs={12} >\n              <Button onClick={handleEstimateModalClose} variant=\"contained\" style={{ backgroundColor:colors.RED, fontFamily:FONT_FAMILY }}>\n                {t('cancel')}\n              </Button>\n              <Button onClick={confirmBooking} variant=\"contained\"  style={isRTL==='rtl'?{marginRight:10, backgroundColor:colors.GREEN}:{marginLeft:10, backgroundColor:colors.GREEN, fontFamily:FONT_FAMILY}}>\n                {t('book_now')}\n              </Button>\n            </Grid>\n          }\n          </Grid>\n        </Grid>\n      </Modal>\n\n      <Modal\n        disablePortal\n        disableEnforceFocus\n        disableAutoFocus\n        open={walletModalStatus}\n        onClose={handleWalletModalClose}\n        className={classes.modal}\n        container={() => rootRef.current}\n      >\n        <Grid container spacing={2} className={classes.paper}>\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{marginBottom: '20px'}}>\n            <Typography  style={{fontWeight:'bolder', marginBottom:10}}>\n              {t('payment')}\n            </Typography>\n            {bookingdata && bookingdata.booking?\n            <Typography color={\"primary\"} style={{fontSize:30}}>\n              { (settings.swipe_symbol===false? settings.symbol + bookingdata.booking.mainData.trip_cost :  bookingdata.booking.mainData.trip_cost + settings.symbol) }\n            </Typography>\n            :null}\n            <Typography >\n              {t('use_wallet_balance') + \" \" + (settings.swipe_symbol===false? settings.symbol + auth.profile.walletBalance :  auth.profile.walletBalance + settings.symbol) + \")\"}\n            </Typography>\n          </Grid>            \n          <Grid item xs={12} sm={12} md={12} lg={12}>\n            <Button onClick={handleWalletModalClose} variant=\"contained\" style={{backgroundColor:colors.RED }}>\n              {t('cancel')}\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" style={{marginLeft:10,backgroundColor:colors.GREEN}} onClick={handleWalletPayment}>\n              {t('paynow_button')}\n            </Button>\n          </Grid>\n        </Grid>\n      </Modal>\n      <Modal\n        disablePortal\n        disableEnforceFocus\n        disableAutoFocus\n        open={paymentModalStatus}\n        onClose={handlePaymentModalClose}\n        className={classes.modal}\n        container={() => rootRef.current}\n      >\n        <Grid container spacing={2} className={classes.paper}>\n          {providers && selectedProvider && bookingdata && bookingdata.booking?\n          <form action={selectedProvider.link} method=\"POST\">\n            <input type='hidden' name='order_id' value={bookingdata.booking.booking_id}/>\n            <input type='hidden' name='amount' value={bookingdata.booking.mainData.trip_cost}/>\n            <input type='hidden' name='currency' value={settings.code}/>\n            <input type='hidden' name='product_name' value={t('bookingPayment')}/>\n            <input type='hidden' name='first_name' value={auth.profile.firstName}/>\n            <input type='hidden' name='last_name' value={auth.profile.lastName}/>\n            <input type='hidden' name='quantity' value={1}/>\n            <input type='hidden' name='cust_id' value={bookingdata.booking.mainData.customer}/>\n            <input type='hidden' name='mobile_no' value={bookingdata.booking.mainData.customer_contact}/>\n            <input type='hidden' name='email' value={bookingdata.booking.mainData.customer_email}/>\n            <Grid item xs={12} sm={12} md={12} lg={12} style={{marginBottom: '20px'}}>\n              <FormControl fullWidth>\n              <FormLabel component=\"legend\">{t('payment')}</FormLabel>\n              <Select\n                  id=\"selectedProviderIndex\"\n                  name= \"selectedProviderIndex\"\n                  value={selectedProviderIndex}\n                  label={t('payment')}\n                  onChange={handleChange}\n                  style={{textAlign:isRTL==='rtl'? 'right':'left'}}\n                  inputProps={{ 'aria-label': 'Without label' }}\n                >\n                  {providers.map((provider,index) =>\n                    <MenuItem key={provider.name} value={index}><img style={{height:24,margin:7}} src={icons[provider.name]} alt={provider.name}/> </MenuItem>\n                  )}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={12} md={12} lg={12}>\n            <Button onClick={handlePaymentModalClose} variant=\"contained\" color=\"primary\">\n              {t('cancel')}\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\" style={{marginLeft:10}} onClick={handlePaymentModalClose}>\n              {t('paynow_button')}\n            </Button>\n            </Grid>\n          </form>\n          :null}\n        </Grid>\n      </Modal>\n      <AlertDialog open={bookingdata.error.flag} onClose={handleBookingErrorClose}>{bookingdata.error.msg}</AlertDialog>\n      <AlertDialog open={estimatedata.error.flag} onClose={handleEstimateErrorClose}>{estimatedata.error.msg}</AlertDialog>\n      <AlertDialog open={commonAlert.open} onClose={handleCommonAlertClose}>{commonAlert.msg}</AlertDialog>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
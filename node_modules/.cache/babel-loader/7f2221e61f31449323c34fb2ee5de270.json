{"ast":null,"code":"import{FETCH_REFERRAL_ID,EDIT_REFERRAL_ID,FETCH_REFERRAL_ID_SUCCESS,FETCH_REFERRAL_ID_FAILED}from\"../store/types\";import{firebase}from\"../config/configureFirebase\";import{onValue,push,set}from\"firebase/database\";export const fetchusedreferral=()=>dispatch=>{const{usedreferralRef}=firebase;dispatch({type:FETCH_REFERRAL_ID,payload:null});onValue(usedreferralRef,snapshot=>{if(snapshot.val()){const data=snapshot.val();const arr=Object.keys(data).map(i=>{data[i].id=i;return data[i];});dispatch({type:FETCH_REFERRAL_ID_SUCCESS,payload:arr.reverse()});}else{dispatch({type:FETCH_REFERRAL_ID_FAILED,payload:\"No SOS available.\"});}// if(snapshot.val()){\n//     const data = snapshot.val();\n//     const arr = Object.keys(data).map(i=>{\n//         data[i].id = i;\n//         return data[i]\n//     });\n//     dispatch({\n//         type:FETCH_REFERRAL_ID_SUCCESS,\n//         payload:arr.reverse()\n//     });\n// }\n// else {\n//     dispatch({\n//         type:FETCH_REFERRAL_ID_FAILED,\n//         payload:\"No referral id used\"\n//     })\n// }\n});};export const editreferral=(users,method)=>dispatch=>{const{usedreferralRef}=firebase;dispatch({type:EDIT_REFERRAL_ID,payload:{method,users}});if(method==='Add'){push(usedreferralRef,users);}};","map":{"version":3,"names":["FETCH_REFERRAL_ID","EDIT_REFERRAL_ID","FETCH_REFERRAL_ID_SUCCESS","FETCH_REFERRAL_ID_FAILED","firebase","onValue","push","set","fetchusedreferral","dispatch","usedreferralRef","type","payload","snapshot","val","data","arr","Object","keys","map","i","id","reverse","editreferral","users","method"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/common/src/actions/usedreferralaction.js"],"sourcesContent":["import {FETCH_REFERRAL_ID,EDIT_REFERRAL_ID,FETCH_REFERRAL_ID_SUCCESS,FETCH_REFERRAL_ID_FAILED} from \"../store/types\"\nimport {firebase} from \"../config/configureFirebase\";\nimport { onValue,push,set } from \"firebase/database\";\n\n\n\nexport const fetchusedreferral = ()=>(dispatch)=>{\n    const {\n        usedreferralRef\n    } = firebase;\n\n\n    dispatch ({\n        type:FETCH_REFERRAL_ID,\n        payload:null\n    })\n    onValue (usedreferralRef,snapshot=>{\n        if (snapshot.val()) {\n            const data = snapshot.val();\n            const arr = Object.keys(data).map(i => {\n              data[i].id = i\n              return data[i]\n            });\n            dispatch({\n              type: FETCH_REFERRAL_ID_SUCCESS,\n              payload: arr.reverse()\n            });\n          } else {\n            dispatch({\n              type: FETCH_REFERRAL_ID_FAILED,\n              payload: \"No SOS available.\"\n            });\n          }\n        // if(snapshot.val()){\n        //     const data = snapshot.val();\n        //     const arr = Object.keys(data).map(i=>{\n        //         data[i].id = i;\n        //         return data[i]\n        //     });\n        //     dispatch({\n        //         type:FETCH_REFERRAL_ID_SUCCESS,\n        //         payload:arr.reverse()\n        //     });\n        // }\n        // else {\n        //     dispatch({\n        //         type:FETCH_REFERRAL_ID_FAILED,\n        //         payload:\"No referral id used\"\n        //     })\n        // }\n    })\n\n\n\n}\n\nexport const editreferral = (users,method)=>(dispatch)=>{\n    const {\n        usedreferralRef,\n    } = firebase;\n\n    dispatch({\n        type:EDIT_REFERRAL_ID,\n        payload:{method,users}\n    });\n    if(method ==='Add'){\n        push(usedreferralRef,users)\n        \n    }\n}"],"mappings":"AAAA,OAAQA,iBAAiB,CAACC,gBAAgB,CAACC,yBAAyB,CAACC,wBAAwB,KAAO,gBAAgB,CACpH,OAAQC,QAAQ,KAAO,6BAA6B,CACpD,OAASC,OAAO,CAACC,IAAI,CAACC,GAAG,KAAQ,mBAAmB,CAIpD,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAKC,QAAQ,EAAG,CAC7C,KAAM,CACFC,eACJ,CAAC,CAAGN,QAAQ,CAGZK,QAAQ,CAAE,CACNE,IAAI,CAACX,iBAAiB,CACtBY,OAAO,CAAC,IACZ,CAAC,CAAC,CACFP,OAAO,CAAEK,eAAe,CAACG,QAAQ,EAAE,CAC/B,GAAIA,QAAQ,CAACC,GAAG,CAAC,CAAC,CAAE,CAChB,KAAM,CAAAC,IAAI,CAAGF,QAAQ,CAACC,GAAG,CAAC,CAAC,CAC3B,KAAM,CAAAE,GAAG,CAAGC,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,GAAG,CAACC,CAAC,EAAI,CACrCL,IAAI,CAACK,CAAC,CAAC,CAACC,EAAE,CAAGD,CAAC,CACd,MAAO,CAAAL,IAAI,CAACK,CAAC,CAAC,CAChB,CAAC,CAAC,CACFX,QAAQ,CAAC,CACPE,IAAI,CAAET,yBAAyB,CAC/BU,OAAO,CAAEI,GAAG,CAACM,OAAO,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLb,QAAQ,CAAC,CACPE,IAAI,CAAER,wBAAwB,CAC9BS,OAAO,CAAE,mBACX,CAAC,CAAC,CACJ,CACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,CAAC,CAAC,CAIN,CAAC,CAED,MAAO,MAAM,CAAAW,YAAY,CAAGA,CAACC,KAAK,CAACC,MAAM,GAAIhB,QAAQ,EAAG,CACpD,KAAM,CACFC,eACJ,CAAC,CAAGN,QAAQ,CAEZK,QAAQ,CAAC,CACLE,IAAI,CAACV,gBAAgB,CACrBW,OAAO,CAAC,CAACa,MAAM,CAACD,KAAK,CACzB,CAAC,CAAC,CACF,GAAGC,MAAM,GAAI,KAAK,CAAC,CACfnB,IAAI,CAACI,eAAe,CAACc,KAAK,CAAC,CAE/B,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
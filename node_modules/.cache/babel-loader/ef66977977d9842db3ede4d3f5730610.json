{"ast":null,"code":"import{FETCH_USER,FETCH_USER_SUCCESS,FETCH_USER_FAILED,USER_SIGN_IN,USER_SIGN_IN_FAILED,USER_SIGN_OUT,CLEAR_LOGIN_ERROR,REQUEST_OTP,REQUEST_OTP_SUCCESS,REQUEST_OTP_FAILED,UPDATE_USER_WALLET_HISTORY,SEND_RESET_EMAIL,SEND_RESET_EMAIL_FAILED}from\"../store/types\";import store from'../store/store';import{firebase}from'../config/configureFirebase';import{onValue,update,set,off}from\"firebase/database\";import{onAuthStateChanged,signInWithCredential,signInWithPopup,signOut,sendPasswordResetEmail,signInWithEmailAndPassword,signInWithCustomToken}from\"firebase/auth\";import{uploadBytesResumable,getDownloadURL}from\"firebase/storage\";import base64 from'react-native-base64';import AccessKey from'../other/AccessKey';export const fetchUser=()=>dispatch=>{const{auth,config,singleUserRef}=firebase;dispatch({type:FETCH_USER,payload:null});onAuthStateChanged(auth,user=>{if(user){onValue(singleUserRef(user.uid),async snapshot=>{if(snapshot.val()){let profile=snapshot.val();profile.uid=user.uid;dispatch({type:FETCH_USER_SUCCESS,payload:profile});}else{let data={uid:user.uid,mobile:'',email:'',firstName:'',lastName:'',verifyId:''};if(user.providerData.length==0&&user.email){data.email=user.email;}if(user.providerData.length>0&&user.phoneNumber){data.mobile=user.phoneNumber;}if(user.providerData.length>0){const provideData=user.providerData[0];if(provideData=='phone'){data.mobile=provideData.phoneNumber;}if(provideData.providerId==\"google.com\"||provideData.providerId=='apple.com'){if(provideData.email){data.email=provideData.email;}if(provideData.phoneNumber){data.mobile=provideData.phoneNumber;}if(provideData.displayName){if(provideData.displayName.split(\" \").length>0){data.firstName=provideData.displayName.split(\" \")[0];data.lastName=provideData.displayName.split(\" \")[1];}else{data.firstName=provideData.displayName;}}if(provideData.photoURL){data['profile_image']=provideData.photoURL;}}}if(user.providerData.length>0&&user.verifyId){data.verifyId=user.verifyId;}const settings=store.getState().settingsdata.settings;let host=window&&window.location&&settings.CompanyWebsite===window.location.origin?window.location.origin:\"https://\".concat(config.projectId,\".web.app\");let url=\"\".concat(host,\"/check_auth_exists\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify({data:JSON.stringify(data)})});const json=await response.json();if(json.uid){dispatch({type:FETCH_USER_SUCCESS,payload:json});}else{dispatch({type:FETCH_USER_FAILED,payload:{code:store.getState().languagedata.defaultLanguage.auth_error,message:json.error}});}}});}else{dispatch({type:FETCH_USER_FAILED,payload:{code:store.getState().languagedata.defaultLanguage.auth_error,message:store.getState().languagedata.defaultLanguage.not_logged_in}});}});};export const validateReferer=async referralId=>{const{config}=firebase;const response=await fetch(\"https://\".concat(config.projectId,\".web.app/validate_referrer\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({referralId:referralId})});const json=await response.json();return json;};export const checkUserExists=async data=>{const{config}=firebase;const settings=store.getState().settingsdata.settings;let host=window&&window.location&&settings.CompanyWebsite===window.location.origin?window.location.origin:\"https://\".concat(config.projectId,\".web.app\")||\"http://localhost:3000\";let url=\"\".concat(host,\"/check_user_exists\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify({email:data.email,mobile:data.mobile})});const json=await response.json();return json;};export const mainSignUp=async regData=>{const{config}=firebase;let url=\"https://\".concat(config.projectId,\".web.app/user_signup\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({regData:regData})});const res=await response.json();return res;};export const updateProfileWithEmail=profileData=>async dispatch=>{const{config}=firebase;try{const settings=store.getState().settingsdata.settings;let host=window&&window.location&&settings.CompanyWebsite===window.location.origin?window.location.origin:\"https://\".concat(config.projectId,\".web.app\");let url=\"\".concat(host,\"/update_user_email\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json',\"Authorization\":\"Basic \"+base64.encode(config.projectId+\":\"+AccessKey)},body:JSON.stringify(profileData)});const result=await response.json();if(result.error){return{success:false,error:result.error};}}catch(error){return{success:false,error:error};}};export const requestPhoneOtpDevice=verificationId=>async dispatch=>{dispatch({type:REQUEST_OTP_SUCCESS,payload:verificationId});};export const mobileSignIn=(verficationId,code)=>dispatch=>{const{auth,mobileAuthCredential}=firebase;dispatch({type:USER_SIGN_IN,payload:null});signInWithCredential(auth,mobileAuthCredential(verficationId,code)).then(user=>{//OnAuthStateChange takes care of Navigation\n}).catch(error=>{dispatch({type:USER_SIGN_IN_FAILED,payload:error});});};export const saveAddresses=async(uid,location,name)=>{const{singleUserRef}=firebase;onValue(child(singleUserRef(uid),\"savedAddresses\"),savedAdd=>{if(savedAdd.val()){let addresses=savedAdd.val();let didNotMatch=true;for(let key in addresses){let entry=addresses[key];if(entry.name==name){didNotMatch=false;update(child(singleUserRef(uid),\"savedAddresses/\"+key),{description:location.add,lat:location.lat,lng:location.lng,count:1,name:name});break;}}if(didNotMatch){push(child(singleUserRef(uid),\"savedAddresses\"),{description:location.add,lat:location.lat,lng:location.lng,count:1,name:name});}}else{push(child(singleUserRef(uid),\"savedAddresses\"),{description:location.add,lat:location.lat,lng:location.lng,count:1,name:name});}},{onlyOnce:true});};export const googleLogin=(idToken,accessToken)=>dispatch=>{const{auth,googleCredential}=firebase;dispatch({type:USER_SIGN_IN,payload:null});const credential=googleCredential(idToken,accessToken);signInWithCredential(auth,credential).then(user=>{//OnAuthStateChange takes care of Navigation\n}).catch(error=>{console.log(error);dispatch({type:USER_SIGN_IN_FAILED,payload:error});});};export const appleSignIn=credentialData=>dispatch=>{const{auth,appleProvider}=firebase;dispatch({type:USER_SIGN_IN,payload:null});if(credentialData){const credential=appleProvider.credential(credentialData);signInWithCredential(auth,credential).then(user=>{//OnAuthStateChange takes care of Navigation\n}).catch(error=>{dispatch({type:USER_SIGN_IN_FAILED,payload:error});});}else{signInWithPopup(auth,appleProvider).then(function(result){signInWithCredential(auth,result.credential).then(user=>{//OnAuthStateChange takes care of Navigation\n}).catch(error=>{dispatch({type:USER_SIGN_IN_FAILED,payload:error});});}).catch(function(error){dispatch({type:USER_SIGN_IN_FAILED,payload:error});});}};export const signOff=()=>dispatch=>{const{auth,singleUserRef,walletHistoryRef,userNotificationsRef}=firebase;const uid=auth.currentUser.uid;off(singleUserRef(uid));off(walletHistoryRef(uid));off(userNotificationsRef(uid));onValue(singleUserRef(uid),snapshot=>{if(snapshot.val()){const profile=snapshot.val();if(profile&&profile.usertype==='driver'){update(singleUserRef(uid),{driverActiveStatus:false});}setTimeout(()=>{signOut(auth).then(()=>{dispatch({type:USER_SIGN_OUT,payload:null});}).catch(error=>{});},2000);}},{onlyOnce:true});};export const updateProfile=updateData=>async dispatch=>{const{auth,singleUserRef,driverDocsRef,driverDocsRefBack,verifyIdImageRef}=firebase;const uid=auth.currentUser.uid;if(updateData.licenseImage){await uploadBytesResumable(driverDocsRef(uid),updateData.licenseImage);updateData.licenseImage=await getDownloadURL(driverDocsRef(uid));}if(updateData.licenseImageBack){await uploadBytesResumable(driverDocsRefBack(uid),updateData.licenseImageBack);updateData.licenseImageBack=await getDownloadURL(driverDocsRefBack(uid));}if(updateData.verifyIdImage){await uploadBytesResumable(verifyIdImageRef(uid),updateData.verifyIdImage);updateData.verifyIdImage=await getDownloadURL(verifyIdImageRef(uid));}update(singleUserRef(uid),updateData);};export const updateProfileImage=imageBlob=>{const{auth,singleUserRef,profileImageRef}=firebase;const uid=auth.currentUser.uid;uploadBytesResumable(profileImageRef(uid),imageBlob).then(()=>{imageBlob.close();return getDownloadURL(profileImageRef(uid));}).then(url=>{update(singleUserRef(uid),{profile_image:url});});};export const updateWebProfileImage=async imageBlob=>{const{auth,singleUserRef,profileImageRef}=firebase;const uid=auth.currentUser.uid;await uploadBytesResumable(profileImageRef(uid),imageBlob);let image=await getDownloadURL(profileImageRef(uid));update(singleUserRef(uid),{profile_image:image});};export const updateCustomerProfileImage=async(imageBlob,id)=>{const{singleUserRef,profileImageRef}=firebase;const uid=id;await uploadBytesResumable(profileImageRef(uid),imageBlob);let image=await getDownloadURL(profileImageRef(uid));update(singleUserRef(uid),{profile_image:image});};export const updatePushToken=(token,platform)=>{const{auth,singleUserRef}=firebase;const uid=auth.currentUser.uid;update(singleUserRef(uid),{pushToken:token,userPlatform:platform});};export const clearLoginError=()=>dispatch=>{dispatch({type:CLEAR_LOGIN_ERROR,payload:null});};export const fetchWalletHistory=()=>dispatch=>{const{auth,walletHistoryRef}=firebase;const uid=auth.currentUser.uid;onValue(walletHistoryRef(uid),snapshot=>{const data=snapshot.val();if(data){const arr=Object.keys(data).map(i=>{data[i].id=i;return data[i];});dispatch({type:UPDATE_USER_WALLET_HISTORY,payload:arr.reverse()});}});};export const fetchUserWalletHistory=userId=>dispatch=>{const{auth,walletHistoryRef}=firebase;const uid=userId;onValue(walletHistoryRef(uid),snapshot=>{const data=snapshot.val();if(data){const arr=Object.keys(data).map(i=>{data[i].id=i;return data[i];});dispatch({type:UPDATE_USER_WALLET_HISTORY,payload:arr.reverse()});}else{dispatch({type:UPDATE_USER_WALLET_HISTORY,payload:[]});}});};export const sendResetMail=email=>async dispatch=>{const{authRef}=firebase;dispatch({type:SEND_RESET_EMAIL,payload:email});sendPasswordResetEmail(authRef(),email).then(function(){console.log('Email send successfuly');}).catch(function(error){dispatch({type:SEND_RESET_EMAIL_FAILED,payload:{code:store.getState().languagedata.defaultLanguage.auth_error,message:store.getState().languagedata.defaultLanguage.not_registred}});});};export const verifyEmailPassword=(email,pass)=>async dispatch=>{const{authRef}=firebase;signInWithEmailAndPassword(authRef(),email,pass).then(user=>{//OnAuthStateChange takes care of Navigation\n}).catch(error=>{dispatch({type:USER_SIGN_IN_FAILED,payload:error});});};export const requestMobileOtp=mobile=>async dispatch=>{const{config}=firebase;dispatch({type:REQUEST_OTP,payload:true});const settings=store.getState().settingsdata.settings;let host=window&&window.location&&settings.CompanyWebsite===window.location.origin?window.location.origin:\"https://\".concat(config.projectId,\".web.app\");let url=\"\".concat(host,\"/request_mobile_otp\");try{const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({mobile:mobile})});const result=await response.json();if(result.success){dispatch({type:REQUEST_OTP_SUCCESS,payload:true});}else{dispatch({type:REQUEST_OTP_FAILED,payload:result.error});}}catch(error){console.log(error);}};export const verifyMobileOtp=(mobile,otp)=>async dispatch=>{const{auth,config}=firebase;const body={mobile:mobile,otp:otp};try{const settings=store.getState().settingsdata.settings;let host=window&&window.location&&settings.CompanyWebsite===window.location.origin?window.location.origin:\"https://\".concat(config.projectId,\".web.app\");let url=\"\".concat(host,\"/verify_mobile_otp\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});const result=await response.json();if(result.token){signInWithCustomToken(auth,result.token).then(user=>{//OnAuthStateChange takes care of Navigation\n}).catch(error=>{dispatch({type:USER_SIGN_IN_FAILED,payload:error});});}else{dispatch({type:USER_SIGN_IN_FAILED,payload:result.error});}}catch(error){console.log(error);dispatch({type:USER_SIGN_IN_FAILED,payload:error});}};export const updateAuthMobile=async(mobile,otp)=>{const{auth,config}=firebase;const uid=auth.currentUser.uid;const body={uid:uid,mobile:mobile,otp:otp};const settings=store.getState().settingsdata.settings;let host=window&&window.location&&settings.CompanyWebsite===window.location.origin?window.location.origin:\"https://\".concat(config.projectId,\".web.app\");let url=\"\".concat(host,\"/update_auth_mobile\");try{const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});const result=await response.json();if(result.success){return{success:true};}else{return{success:false,error:result.error};}}catch(error){return{success:false,error:error};}};","map":{"version":3,"names":["FETCH_USER","FETCH_USER_SUCCESS","FETCH_USER_FAILED","USER_SIGN_IN","USER_SIGN_IN_FAILED","USER_SIGN_OUT","CLEAR_LOGIN_ERROR","REQUEST_OTP","REQUEST_OTP_SUCCESS","REQUEST_OTP_FAILED","UPDATE_USER_WALLET_HISTORY","SEND_RESET_EMAIL","SEND_RESET_EMAIL_FAILED","store","firebase","onValue","update","set","off","onAuthStateChanged","signInWithCredential","signInWithPopup","signOut","sendPasswordResetEmail","signInWithEmailAndPassword","signInWithCustomToken","uploadBytesResumable","getDownloadURL","base64","AccessKey","fetchUser","dispatch","auth","config","singleUserRef","type","payload","user","uid","snapshot","val","profile","data","mobile","email","firstName","lastName","verifyId","providerData","length","phoneNumber","provideData","providerId","displayName","split","photoURL","settings","getState","settingsdata","host","window","location","CompanyWebsite","origin","concat","projectId","url","response","fetch","method","headers","encode","body","JSON","stringify","json","code","languagedata","defaultLanguage","auth_error","message","error","not_logged_in","validateReferer","referralId","checkUserExists","mainSignUp","regData","res","updateProfileWithEmail","profileData","result","success","requestPhoneOtpDevice","verificationId","mobileSignIn","verficationId","mobileAuthCredential","then","catch","saveAddresses","name","child","savedAdd","addresses","didNotMatch","key","entry","description","add","lat","lng","count","push","onlyOnce","googleLogin","idToken","accessToken","googleCredential","credential","console","log","appleSignIn","credentialData","appleProvider","signOff","walletHistoryRef","userNotificationsRef","currentUser","usertype","driverActiveStatus","setTimeout","updateProfile","updateData","driverDocsRef","driverDocsRefBack","verifyIdImageRef","licenseImage","licenseImageBack","verifyIdImage","updateProfileImage","imageBlob","profileImageRef","close","profile_image","updateWebProfileImage","image","updateCustomerProfileImage","id","updatePushToken","token","platform","pushToken","userPlatform","clearLoginError","fetchWalletHistory","arr","Object","keys","map","i","reverse","fetchUserWalletHistory","userId","sendResetMail","authRef","not_registred","verifyEmailPassword","pass","requestMobileOtp","verifyMobileOtp","otp","updateAuthMobile"],"sources":["C:/Users/CAJAL/Desktop/main/Sourcecode/common/src/actions/authactions.js"],"sourcesContent":["import {\n  FETCH_USER,\n  FETCH_USER_SUCCESS,\n  FETCH_USER_FAILED,\n  USER_SIGN_IN,\n  USER_SIGN_IN_FAILED,\n  USER_SIGN_OUT,\n  CLEAR_LOGIN_ERROR,\n  REQUEST_OTP,\n  REQUEST_OTP_SUCCESS,\n  REQUEST_OTP_FAILED,\n  UPDATE_USER_WALLET_HISTORY,\n  SEND_RESET_EMAIL,\n  SEND_RESET_EMAIL_FAILED\n} from \"../store/types\";\n\nimport store from '../store/store';\nimport { firebase } from '../config/configureFirebase';\nimport { onValue, update, set, off } from \"firebase/database\";\nimport { onAuthStateChanged, signInWithCredential, signInWithPopup, signOut, sendPasswordResetEmail, signInWithEmailAndPassword, signInWithCustomToken } from \"firebase/auth\";\nimport { uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport base64 from 'react-native-base64';\nimport AccessKey from '../other/AccessKey';\n\nexport const fetchUser = () => (dispatch) => {\n  const {\n    auth,\n    config,\n    singleUserRef\n  } = firebase;\n\n  dispatch({\n    type: FETCH_USER,\n    payload: null\n  });\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      onValue(singleUserRef(user.uid), async snapshot => {\n        if (snapshot.val()) {\n          let profile = snapshot.val();\n          profile.uid = user.uid;\n          dispatch({\n            type: FETCH_USER_SUCCESS,\n            payload: profile\n          });\n        }else{\n          let data = {\n            uid : user.uid,\n            mobile: '',\n            email: '',\n            firstName: '',\n            lastName: '',\n            verifyId: ''\n          }\n\n          if(user.providerData.length == 0 && user.email){\n            data.email = user.email;\n          }\n          if(user.providerData.length > 0 && user.phoneNumber){\n            data.mobile = user.phoneNumber;\n          }\n          if (user.providerData.length > 0) {\n            const provideData = user.providerData[0];\n            if (provideData == 'phone') {\n              data.mobile = provideData.phoneNumber;\n            }\n            if (provideData.providerId == \"google.com\" || provideData.providerId == 'apple.com') {\n              if (provideData.email) {\n                data.email = provideData.email;\n              }\n              if (provideData.phoneNumber) {\n                data.mobile = provideData.phoneNumber;\n              }\n              if (provideData.displayName) {\n                if (provideData.displayName.split(\" \").length > 0) {\n                  data.firstName = provideData.displayName.split(\" \")[0];\n                  data.lastName = provideData.displayName.split(\" \")[1];\n                } else {\n                  data.firstName = provideData.displayName;\n                }\n              }\n              if (provideData.photoURL) {\n                data['profile_image'] = provideData.photoURL;\n              }\n            }\n          }\n          if(user.providerData.length > 0 && user.verifyId){\n            data.verifyId = user.verifyId;\n          }\n\n          const settings = store.getState().settingsdata.settings;\n          let host = window && window.location && settings.CompanyWebsite === window.location.origin? window.location.origin : `https://${config.projectId}.web.app`\n          let url = `${host}/check_auth_exists`;\n          const response = await fetch(url, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n            },\n            body: JSON.stringify({data: JSON.stringify(data)})\n          })\n          const json = await response.json();\n          if(json.uid){\n            dispatch({\n              type: FETCH_USER_SUCCESS,\n              payload: json\n            });\n          } else{\n            dispatch({\n              type: FETCH_USER_FAILED,\n              payload: { code: store.getState().languagedata.defaultLanguage.auth_error, message: json.error }\n            });\n          }\n        }\n      });\n    } else {\n      dispatch({\n        type: FETCH_USER_FAILED,\n        payload: { code: store.getState().languagedata.defaultLanguage.auth_error, message: store.getState().languagedata.defaultLanguage.not_logged_in }\n      });\n    }\n  });\n};\n\nexport const validateReferer = async (referralId) => {\n  const {\n    config\n  } = firebase;\n  const response = await fetch(`https://${config.projectId}.web.app/validate_referrer`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      referralId: referralId\n    })\n  })\n  const json = await response.json();\n  return json;\n};\n\nexport const checkUserExists = async (data) => {\n  const {\n    config\n  } = firebase;\n\n  const settings = store.getState().settingsdata.settings;\n  let host = window && window.location && settings.CompanyWebsite === window.location.origin? window.location.origin : `https://${config.projectId}.web.app` || `http://localhost:3000`\n  let url = `${host}/check_user_exists`;\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n    },\n    body: JSON.stringify({\n      email: data.email,\n      mobile: data.mobile\n    })\n  })\n  const json = await response.json();\n  return json;\n};\n\nexport const mainSignUp = async (regData) => {\n  const {\n    config\n  } = firebase;\n  let url = `https://${config.projectId}.web.app/user_signup`;\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ regData: regData })\n  })\n  const res = await response.json();\n  return res;\n};\n\nexport const updateProfileWithEmail = (profileData) => async (dispatch) => {\n  const {\n    config\n  } = firebase;\n  try{\n    const settings = store.getState().settingsdata.settings;\n    let host = window && window.location && settings.CompanyWebsite === window.location.origin? window.location.origin : `https://${config.projectId}.web.app`\n    let url = `${host}/update_user_email`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\": \"Basic \" + base64.encode(config.projectId + \":\" + AccessKey)\n      },\n      body: JSON.stringify(profileData)\n    })\n    const result = await response.json();\n    if(result.error){ \n      return {success: false, error: result.error}\n    }\n  }catch(error){\n    return {success: false, error: error}\n  }\n}\n\n\nexport const requestPhoneOtpDevice = (verificationId) => async (dispatch) => {\n    dispatch({\n      type: REQUEST_OTP_SUCCESS,\n      payload: verificationId\n    }); \n}\n\nexport const mobileSignIn = (verficationId, code) => (dispatch) => {\n  const {\n    auth,\n    mobileAuthCredential,\n  } = firebase;\n\n  dispatch({\n    type: USER_SIGN_IN,\n    payload: null\n  });\n  signInWithCredential(auth, mobileAuthCredential(verficationId, code))\n    .then((user) => {\n      //OnAuthStateChange takes care of Navigation\n    }).catch(error => {\n      dispatch({\n        type: USER_SIGN_IN_FAILED,\n        payload: error\n      });\n    });\n};\n\nexport const saveAddresses = async (uid, location, name) => {\n  const { singleUserRef } = firebase;\n  onValue(child(singleUserRef(uid), \"savedAddresses\"), (savedAdd) => {\n    if (savedAdd.val()) {\n      let addresses = savedAdd.val();\n      let didNotMatch = true;\n      for (let key in addresses) {\n        let entry = addresses[key];\n        if (entry.name == name ) {\n          didNotMatch = false;\n          update(child(singleUserRef(uid),\"savedAddresses/\" + key),{\n            description: location.add,\n            lat: location.lat,\n            lng: location.lng,\n            count: 1,\n            name: name\n          });\n          break;\n        }\n      }\n      if (didNotMatch) {\n        push(child(singleUserRef(uid),\"savedAddresses\"),{\n          description: location.add,\n          lat: location.lat,\n          lng: location.lng,\n          count: 1,\n          name: name\n        });\n      }\n    } else {\n      push(child(singleUserRef(uid),\"savedAddresses\"),{\n        description: location.add,\n        lat: location.lat,\n        lng: location.lng,\n        count: 1,\n        name: name\n      });\n    }\n  }, {onlyOnce: true});\n};\n\nexport const googleLogin = (idToken, accessToken) => (dispatch) => {\n\n  const {\n    auth,\n    googleCredential\n  } = firebase;\n\n  dispatch({\n    type: USER_SIGN_IN,\n    payload: null\n  });\n\n  const credential = googleCredential(idToken, accessToken);\n  signInWithCredential(auth, credential)\n    .then((user) => {\n      //OnAuthStateChange takes care of Navigation\n    })\n    .catch(error => {\n      console.log(error);\n      dispatch({\n        type: USER_SIGN_IN_FAILED,\n        payload: error\n      });\n    });\n}\n\nexport const appleSignIn = (credentialData) => (dispatch) => {\n\n  const {\n    auth,\n    appleProvider\n  } = firebase;\n\n  dispatch({\n    type: USER_SIGN_IN,\n    payload: null\n  });\n  if (credentialData) {\n    const credential = appleProvider.credential(credentialData);\n    signInWithCredential(auth, credential)\n      .then((user) => {\n        //OnAuthStateChange takes care of Navigation\n      })\n      .catch((error) => {\n        dispatch({\n          type: USER_SIGN_IN_FAILED,\n          payload: error\n        });\n      });\n  } else {\n    signInWithPopup(auth, appleProvider).then(function (result) {\n      signInWithCredential(auth, result.credential)\n        .then((user) => {\n        //OnAuthStateChange takes care of Navigation\n        })\n        .catch(error => {\n          dispatch({\n            type: USER_SIGN_IN_FAILED,\n            payload: error\n          });\n        }\n        );\n    }).catch(function (error) {\n      dispatch({\n        type: USER_SIGN_IN_FAILED,\n        payload: error\n      });\n    });\n  }\n};\n\nexport const signOff = () => (dispatch) => {\n\n  const {\n    auth,\n    singleUserRef,\n    walletHistoryRef,\n    userNotificationsRef\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n\n  off(singleUserRef(uid));\n  off(walletHistoryRef(uid));\n  off(userNotificationsRef(uid));\n\n  onValue(singleUserRef(uid), snapshot => {\n      if(snapshot.val()){\n        const profile = snapshot.val();\n        if (profile && profile.usertype === 'driver') {\n          update(singleUserRef(uid), {driverActiveStatus:false});\n        }\n        setTimeout(()=>{\n          signOut(auth)\n          .then(() => {\n            dispatch({\n              type: USER_SIGN_OUT,\n              payload: null\n            });\n          })\n          .catch(error => {\n      \n          });\n        },2000)\n      }\n  },{onlyOnce: true});\n};\n\nexport const updateProfile = (updateData) => async (dispatch) => {\n\n  const {\n    auth,\n    singleUserRef,\n    driverDocsRef,\n    driverDocsRefBack,\n    verifyIdImageRef\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n  \n  if (updateData.licenseImage) {\n    await uploadBytesResumable(driverDocsRef(uid), updateData.licenseImage);\n    updateData.licenseImage = await getDownloadURL(driverDocsRef(uid));\n  }\n  if (updateData.licenseImageBack) {\n    await uploadBytesResumable(driverDocsRefBack(uid),updateData.licenseImageBack);\n    updateData.licenseImageBack = await getDownloadURL(driverDocsRefBack(uid));\n  }\n  if (updateData.verifyIdImage) {\n    await uploadBytesResumable(verifyIdImageRef(uid), updateData.verifyIdImage);\n    updateData.verifyIdImage = await getDownloadURL(verifyIdImageRef(uid));\n  }\n\n  update(singleUserRef(uid), updateData);\n};\n\n\nexport const updateProfileImage = (imageBlob) => {\n\n  const {\n    auth,\n    singleUserRef,\n    profileImageRef,\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n\n  uploadBytesResumable( profileImageRef(uid), imageBlob).then(() => {\n    imageBlob.close()\n    return getDownloadURL(profileImageRef(uid))\n  }).then((url) => {\n    update(singleUserRef(uid), {\n      profile_image: url\n    });\n  })\n};\n\nexport const updateWebProfileImage = async (imageBlob) => {\n\n  const {\n    auth,\n    singleUserRef,\n    profileImageRef\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n\n  await uploadBytesResumable(profileImageRef(uid), imageBlob);\n  let image = await getDownloadURL(profileImageRef(uid));\n  update(singleUserRef(uid), {profile_image: image});\n\n};\nexport const updateCustomerProfileImage = async (imageBlob, id) => {\n\n  const {\n    singleUserRef,\n    profileImageRef\n  } = firebase;\n\n  const uid = id\n\n  await uploadBytesResumable(profileImageRef(uid), imageBlob);\n  let image = await getDownloadURL(profileImageRef(uid));\n  update(singleUserRef(uid), {profile_image: image});\n\n};\n\nexport const updatePushToken = (token, platform)  => {\n\n  const {\n    auth,\n    singleUserRef,\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n\n  update(singleUserRef(uid), {\n    pushToken: token,\n    userPlatform: platform\n  });\n};\n\nexport const clearLoginError = () => (dispatch) => {\n  dispatch({\n    type: CLEAR_LOGIN_ERROR,\n    payload: null\n  });\n};\n\nexport const fetchWalletHistory = () => (dispatch) => {\n  const {\n    auth,\n    walletHistoryRef\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n\n  onValue(walletHistoryRef(uid) , snapshot => {\n    const data = snapshot.val(); \n    if(data){\n      const arr = Object.keys(data).map(i => {\n        data[i].id = i\n        return data[i]\n      });\n      dispatch({\n        type: UPDATE_USER_WALLET_HISTORY,\n        payload: arr.reverse()\n      });\n    }\n  });\n};\nexport const fetchUserWalletHistory = (userId) => (dispatch) => {\n  const {\n    auth,\n    walletHistoryRef\n  } = firebase;\n\n  const uid = userId;\n\n  onValue(walletHistoryRef(uid) , snapshot => {\n    const data = snapshot.val(); \n    if(data){\n      const arr = Object.keys(data).map(i => {\n        data[i].id = i\n        return data[i]\n      });\n      dispatch({\n        type: UPDATE_USER_WALLET_HISTORY,\n        payload: arr.reverse()\n      });\n    }else{\n      dispatch({\n        type: UPDATE_USER_WALLET_HISTORY,\n        payload:[]\n      });\n    }\n  });\n};\n\nexport const sendResetMail = (email) => async (dispatch) => {\n  const {\n    authRef\n  } = firebase;\n\n  dispatch({\n    type: SEND_RESET_EMAIL,\n    payload: email\n  });\n  sendPasswordResetEmail(authRef(), email).then(function() {\n    console.log('Email send successfuly');\n  }).catch(function (error) {\n      dispatch({\n        type: SEND_RESET_EMAIL_FAILED,\n        payload: {code: store.getState().languagedata.defaultLanguage.auth_error, message: store.getState().languagedata.defaultLanguage.not_registred }\n      });\n  });\n};\n\nexport const verifyEmailPassword = (email, pass) => async (dispatch) => {\n  const {\n    authRef\n  } = firebase;\n\n  signInWithEmailAndPassword(authRef(), email, pass)\n    .then((user) => {\n      //OnAuthStateChange takes care of Navigation\n    })\n    .catch((error) => {\n      dispatch({\n        type: USER_SIGN_IN_FAILED,\n        payload: error\n      });\n    });\n}\n\nexport const requestMobileOtp = (mobile) => async (dispatch) => {\n  const {\n    config\n  } = firebase;\n  dispatch({\n    type: REQUEST_OTP,\n    payload: true\n  }); \n\n  const settings = store.getState().settingsdata.settings;\n  let host = window && window.location && settings.CompanyWebsite === window.location.origin? window.location.origin : `https://${config.projectId}.web.app`\n  let url = `${host}/request_mobile_otp`;\n  try{\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ mobile: mobile })\n    });\n    const result = await response.json();\n    if(result.success){\n      dispatch({\n        type: REQUEST_OTP_SUCCESS,\n        payload: true\n      });\n    }else{\n      dispatch({\n        type: REQUEST_OTP_FAILED,\n        payload: result.error\n      });\n    }\n  }catch(error){\n    console.log(error);\n  }\n}\n\nexport const verifyMobileOtp = (mobile, otp) => async (dispatch) => {\n  const {\n    auth,\n    config\n  } = firebase;\n  const body = {\n    mobile: mobile,\n    otp: otp\n  };\n  try{\n    const settings = store.getState().settingsdata.settings;\n    let host = window && window.location && settings.CompanyWebsite === window.location.origin? window.location.origin : `https://${config.projectId}.web.app`\n    let url = `${host}/verify_mobile_otp`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body)\n    })\n    const result = await response.json();\n    if(result.token){\n      signInWithCustomToken(auth,result.token)\n        .then((user) => {\n          //OnAuthStateChange takes care of Navigation\n        })\n        .catch((error) => {\n          dispatch({\n            type: USER_SIGN_IN_FAILED,\n            payload: error\n          });\n        });\n    }else{\n      dispatch({\n        type: USER_SIGN_IN_FAILED,\n        payload: result.error\n      });\n    }\n  }catch(error){\n    console.log(error);\n    dispatch({\n      type: USER_SIGN_IN_FAILED,\n      payload: error\n    });\n  }\n}\n\nexport const updateAuthMobile = async ( mobile, otp) => {\n  const {\n    auth,\n    config\n  } = firebase;\n\n  const uid = auth.currentUser.uid;\n  const body = {\n    uid: uid,\n    mobile: mobile,\n    otp: otp\n  };\n\n  const settings = store.getState().settingsdata.settings;\n  let host = window && window.location && settings.CompanyWebsite === window.location.origin ? window.location.origin : `https://${config.projectId}.web.app`\n  let url = `${host}/update_auth_mobile`;\n  try{\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body)\n    })\n    const result = await response.json();\n    if(result.success){\n      return {success: true}\n    }else{\n      return {success: false, error: result.error}\n    }\n  }catch(error){\n    return {success: false, error: error}\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}